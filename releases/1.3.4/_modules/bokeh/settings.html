<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>bokeh.settings &mdash; Bokeh 1.3.4 documentation</title>
    <meta name="description" content="Bokeh visualization library, documentation site.">
    <meta name="author" content="Bokeh contributors">

    <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
    <script>
        WebFont.load({
            google: {
                families: ['Source Sans Pro']
            }
        });
    </script>

    <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="../../_static/css/main.css">

    <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript">
        var _BOKEH_CURRENT_VERSION = "1.3.4";
    </script>
    <script src="../../_static/js/main.js"></script>

    <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="../../_static/images/favicon.ico">

    <!-- Canonical
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="canonical" href="https://bokeh.pydata.org/en/latest/_modules/bokeh/settings.html" />

</head>

<body class="">

    <header class="navigation">
        <div class="wrapper">
            <a href="" class="logo">
                <img src="../../_static/images/logo.png" alt="Bokeh Logo">
            </a>
            <a href="" class="navigation-menu logo-text">Bokeh</a>
            <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">Menu</a>
            <nav>
                <ul id="js-navigation-menu" class="navigation-menu show">
                    
                    <li class="nav-link"><a href="//github.com/bokeh/bokeh">Github</a></li>
                    
                </ul>
            </nav>
        </div>
    </header>
    <div class="second-nav">
        <nav>
            <ul class="navigation-menu show">
                <li class="nav-link more"><a href="../../index.html">1.3.4</a>
                    <ul class="submenu">
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/1.3.4/">1.3.4</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/1.2.0/">1.2.0</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/1.1.0/">1.1.0</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/1.0.4/">1.0.4</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/0.13.0/">0.13.0</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.16/">0.12.16</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.15/">0.12.15</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.14/">0.12.14</a></li>
                        
                        <li class="version-link"><a href="//bokeh.pydata.org/en/0.11.0/">0.11.0</a></li>
                        
                    </ul>
                </li> 
                <li class="nav-link doc-head"><a href="../../docs/installation.html">Installation</a></li>
                 
                <li class="nav-link doc-head"><a href="../../docs/user_guide.html">User Guide</a></li>
                 
                <li class="nav-link doc-head"><a href="../../docs/gallery.html">Gallery</a></li>
                 
                <li class="nav-link doc-head"><a href="https://mybinder.org/v2/gh/bokeh/bokeh-notebooks/master?filepath=tutorial%2F00%20-%20Introduction%20and%20Setup.ipynb">Tutorial</a></li>
                 
                <li class="nav-link doc-head"><a href="../../docs/reference.html">Reference</a></li>
                 
                <li class="nav-link doc-head"><a href="../../docs/releases.html">Releases</a></li>
                 
                <li class="nav-link doc-head"><a href="../../docs/dev_guide.html">Developer Guide</a></li>
                
            </ul>
        </nav>
    </div>

    <!-- MAIN BODY OF DOCS –––––––––––––––––– -->
    <div class="docs section">
        <div class="toc">
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../docs/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/concepts.html">Defining Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/plotting.html">Plotting with Basic Glyphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/data.html">Providing Data for Plots and Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/layout.html">Laying out Plots and Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/categorical.html">Handling Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/graph.html">Visualizing Network Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/geo.html">Mapping Geo Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/tools.html">Configuring Plot Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/styling.html">Styling Visual Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/annotations.html">Adding Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/interaction.html">Adding Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/server.html">Running a Bokeh Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/notebook.html">Working in the Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/export.html">Exporting Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/embed.html">Embedding Plots and Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/cli.html">Using <code class="docutils literal notranslate"><span class="pre">bokeh</span></code> Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/extensions.html">Extending Bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/compat.html">Leveraging Other Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/webgl.html">Speeding up with WebGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/bokehjs.html">Developing with JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/user_guide/info.html">Learning More</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference.html">Reference Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/0_bokeh.html">bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/application.html">bokeh.application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/client.html">bokeh.client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/colors.html">bokeh.colors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/command.html">bokeh.command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/core.html">bokeh.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/document.html">bokeh.document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/driving.html">bokeh.driving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/embed.html">bokeh.embed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/events.html">bokeh.events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/io.html">bokeh.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/layouts.html">bokeh.layouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/model.html">bokeh.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/models.html">bokeh.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/palettes.html">bokeh.palettes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/plotting.html">bokeh.plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/protocol.html">bokeh.protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/resources.html">bokeh.resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/sampledata.html">bokeh.sampledata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/server.html">bokeh.server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/settings.html">bokeh.settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/sphinxext.html">bokeh.sphinxext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/themes.html">bokeh.themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/tile_providers.html">bokeh.tile_providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/transform.html">bokeh.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/reference/util.html">bokeh.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/setup.html">Getting Set Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/env_vars.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/models.html">Bokeh Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/server.html">Server Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/bindings.html">Language Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/dev_guide/bokehjs.html">BokehJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html">1.3.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-3-2">1.3.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-3-1">1.3.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-3-0">1.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-2-0">1.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-1-0">1.1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-0-4">1.0.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-0-3">1.0.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-0-2">1.0.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-0-1">1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-1-0-0">1.0.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-13-0">0.13.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-16">0.12.16</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-15">0.12.15</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-14">0.12.14</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-13">0.12.13</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-11">0.12.11</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-10">0.12.10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-9">0.12.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-7">0.12.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-6">0.12.6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-5">0.12.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-4">0.12.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-3">0.12.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-2">0.12.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-1">0.12.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-12-0">0.12.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-11-1">0.11.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-11-0">0.11.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-10-0">0.10.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-9-3">0.9.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-9-2">0.9.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-9-1">0.9.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-9-0">0.9.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-8-2">0.8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-8-1">0.8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-8-0">0.8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-7-1">0.7.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-7-0">0.7.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-6-1">0.6.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-6-0">0.6.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-5-2">0.5.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-5-1">0.5.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-5-0">0.5.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-4-4">0.4.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-4-2">0.4.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-4-1">0.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-4-0">0.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-3-0">0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-2-0">0.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/releases.html#release-0-1-0">0.1.0</a></li>
</ul>

        </div>
        <div class="content">
            
  <h1>Source code for bokeh.settings</h1><div class="highlight"><pre>
<span></span><span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Copyright (c) 2012 - 2019, Anaconda, Inc., and Bokeh Contributors.</span>
<span class="c1"># All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># The full license is in the file LICENSE.txt, distributed with this software.</span>
<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="sd">&#39;&#39;&#39; Control global configuration options with environment variables.</span>
<span class="sd">A global settings object that other parts of Bokeh can refer to.</span>

<span class="sd">Setting values are always looked up in the following prescribed order:</span>

<span class="sd">immediately supplied values</span>
<span class="sd">    These are values that are passed to the setting:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        settings.minified(minified_val)</span>

<span class="sd">    If ``minified_val`` is not None, then it will be returned, as-is.</span>
<span class="sd">    Otherwise, if None is passed, then the setting will continute to look</span>
<span class="sd">    down the search order for a value. This is useful for passing optional</span>
<span class="sd">    function paramters that are None by default. If the parameter is passed</span>
<span class="sd">    to the function, then it will take precedence.</span>

<span class="sd">previously user-set values</span>
<span class="sd">    If the value is set explicity in code:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        settings.minified = False</span>

<span class="sd">    Then this value will take precedence over other sources. Applications</span>
<span class="sd">    may use this ability to set values supplied on the command line, so that</span>
<span class="sd">    they take precedence over environment variables.</span>

<span class="sd">user-specified config override file</span>
<span class="sd">    Values from a YAML configuration file that is explicitly loaded:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        settings.load_config(&quot;/path/to/bokeh.yaml)</span>

<span class="sd">    Any values from ``bokeh.yaml`` will take precedence over the sources</span>
<span class="sd">    below. Applications may offer command line arguments to load such a</span>
<span class="sd">    file. e.g. ``bokeh serve --use-config myconf.yaml``</span>

<span class="sd">environment variable</span>
<span class="sd">    Values found in the associated environment variables:</span>

<span class="sd">    .. code-block:: sh</span>

<span class="sd">        BOKEH_MINIFIED=no bokeh serve app.py</span>

<span class="sd">local user config file</span>
<span class="sd">    Bokeh will look for a YAML configuration file in the current user&#39;s</span>
<span class="sd">    home directory ``${HOME}/.bokeh/bokeh.yaml``.</span>

<span class="sd">global system configuration (not yet implemented)</span>
<span class="sd">    Future support is planned to load Bokeh settings from global system</span>
<span class="sd">    configurations.</span>

<span class="sd">implicit defaults</span>
<span class="sd">    These are default values defined by the setting declarations. There are</span>
<span class="sd">    regular defaults, as well as &quot;dev&quot; defaults that are used when the</span>
<span class="sd">    environment variable ``BOKEH_DEV=yes`` is set.</span>

<span class="sd">If no value is obtained after searching all of these locations, then a</span>
<span class="sd">RuntimeError will be raised.</span>

<span class="sd">Defined Settings</span>
<span class="sd">~~~~~~~~~~~~~~~~</span>

<span class="sd">Settings are accessible on the ``bokeh.settings.settings`` instance, via</span>
<span class="sd">accessor methods. For instance:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    settings.minified()</span>

<span class="sd">Bokeh provides the following defined settings:</span>

<span class="sd">.. bokeh-settings:: settings</span>
<span class="sd">    :module: bokeh.settings</span>

<span class="sd">Additionally, there are a few methods on the ``settings`` object:</span>

<span class="sd">.. autoclass:: Settings</span>
<span class="sd">    :members:</span>

<span class="sd">&#39;&#39;&#39;</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Boilerplate</span>
<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Imports</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="c1"># Standard library imports</span>
<span class="kn">import</span> <span class="nn">codecs</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">abspath</span><span class="p">,</span> <span class="n">expanduser</span><span class="p">,</span> <span class="n">join</span>

<span class="c1"># External imports</span>
<span class="kn">import</span> <span class="nn">yaml</span>

<span class="c1"># Bokeh imports</span>
<span class="kn">from</span> <span class="nn">.util.paths</span> <span class="k">import</span> <span class="n">bokehjsdir</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Globals and constants</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s1">&#39;settings&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># General API</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Dev API</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="k">def</span> <span class="nf">convert_str</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Return a string as-is</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">convert_bool</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convert a string to True or False</span>

<span class="sd">    If a boolean is passed in, it is returned as-is. Otherwise the function</span>
<span class="sd">    maps the following strings, ignoring case:</span>

<span class="sd">    * &quot;yes&quot;, &quot;1&quot;, &quot;on&quot; -&gt; True</span>
<span class="sd">    * &quot;no&quot;, &quot;0&quot;, &quot;off&quot; -&gt; False</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str):</span>
<span class="sd">            A string value to convert to bool</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="n">val</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;True&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;no&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;off&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span> <span class="s2">&quot;False&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot convert </span><span class="si">{}</span><span class="s2"> to boolean value&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">convert_str_seq</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convert a string to a lit of strings</span>

<span class="sd">    If a list or tuple is passed in, it is returned as-is.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str) :</span>
<span class="sd">            A string to convert to a list of strings</span>

<span class="sd">    Returns</span>
<span class="sd">        list[str]</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot convert </span><span class="si">{}</span><span class="s2"> to list value&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<span class="n">_log_levels</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;CRITICAL&quot;</span> <span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">,</span>
    <span class="s2">&quot;ERROR&quot;</span>    <span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
    <span class="s2">&quot;WARNING&quot;</span>  <span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>
    <span class="s2">&quot;INFO&quot;</span>     <span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
    <span class="s2">&quot;DEBUG&quot;</span>    <span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
    <span class="s2">&quot;TRACE&quot;</span>    <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>  <span class="c1"># Custom level hard-coded to avoid circular import</span>
    <span class="s2">&quot;NONE&quot;</span>     <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">convert_logging</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Convert a string to a Python logging level</span>

<span class="sd">    If a log level is passed in, it is returned as-is. Otherwise the function</span>
<span class="sd">    understands the following strings, ignoring case:</span>

<span class="sd">    * &quot;critical&quot;</span>
<span class="sd">    * &quot;error&quot;</span>
<span class="sd">    * &quot;warning&quot;</span>
<span class="sd">    * &quot;info&quot;</span>
<span class="sd">    * &quot;debug&quot;</span>
<span class="sd">    * &quot;trace&quot;</span>
<span class="sd">    * &quot;none&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str):</span>
<span class="sd">            A string value to convert to a logging level</span>

<span class="sd">    Returns:</span>
<span class="sd">        int or None</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">_log_levels</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">_log_levels</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_log_levels</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot convert </span><span class="si">{}</span><span class="s2"> to log level, valid values are: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_log_levels</span><span class="p">)))</span>

<span class="k">class</span> <span class="nc">_Unset</span><span class="p">:</span> <span class="k">pass</span>

<span class="k">def</span> <span class="nf">is_dev</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">convert_bool</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;BOKEH_DEV&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">PrioritizedSetting</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Return a value for a global setting according to configuration precedence.</span>

<span class="sd">    The following methods are searched in order for the setting:</span>

<span class="sd">    6. immediately supplied values</span>
<span class="sd">    5. previously user-set values (e.g. set from command line)</span>
<span class="sd">    4. user-specified config override file</span>
<span class="sd">    3. environment variable</span>
<span class="sd">    2. local user config file</span>
<span class="sd">    1. global system config file (not yet implemented)</span>
<span class="sd">    0. implicit defaults</span>

<span class="sd">    Ref: https://stackoverflow.com/a/11077282/3406693</span>

<span class="sd">    If a value cannot be determined, a ValueError is raised.</span>

<span class="sd">    The ``env_var`` argument specifies the name of an environment to check for</span>
<span class="sd">    setting values, e.g. ``&quot;BOKEH_LOG_LEVEL&quot;``.</span>

<span class="sd">    The optional ``default`` argument specified an implicit default value for</span>
<span class="sd">    the setting that is returned if no other methods provide a value.</span>

<span class="sd">    A ``convert`` agument may be provided to convert values before they are</span>
<span class="sd">    returned. For instance to concert log levels in environment variables</span>
<span class="sd">    to ``logging`` module values.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">env_var</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">_Unset</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="n">_Unset</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span> <span class="o">=</span> <span class="n">convert</span> <span class="k">if</span> <span class="n">convert</span> <span class="k">else</span> <span class="n">convert_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default</span> <span class="o">=</span> <span class="n">default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dev_default</span> <span class="o">=</span> <span class="n">dev_default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_env_var</span> <span class="o">=</span> <span class="n">env_var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_help</span> <span class="o">=</span> <span class="n">help</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_value</span> <span class="o">=</span> <span class="n">_Unset</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Return the setting value according to the standard precedence.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (any, optional):</span>
<span class="sd">                An optional immediate value. If not None, the value will</span>
<span class="sd">                be converted, then returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str or int or float</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># 6. immediate values</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="c1"># 5. previously user-set value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_Unset</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_user_value</span><span class="p">)</span>

        <span class="c1"># 4. user-named config file</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_override</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_override</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">])</span>

        <span class="c1"># 3. environment variable</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_var</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_var</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_env_var</span><span class="p">])</span>

        <span class="c1"># 2. local config file</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_user</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_user</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">])</span>

        <span class="c1"># 1. global config file</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_system</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">config_system</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">])</span>

        <span class="c1"># 0. implicit defaults</span>
        <span class="k">if</span> <span class="n">is_dev</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dev_default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_Unset</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dev_default</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_Unset</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No configured value found for setting </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">owner</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__set__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Specify a value for this setting programmatically.</span>

<span class="sd">        A value set this way takes precedence over all other methods except</span>
<span class="sd">        immediate values.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (str or int or float):</span>
<span class="sd">                A user-set value for this setting</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_value</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">unset_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Unset the previous user value such that the priority is reset.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_value</span> <span class="o">=</span> <span class="n">_Unset</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">env_var</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_env_var</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dev_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dev_default</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">help</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_help</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">convert_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span> <span class="ow">is</span> <span class="n">convert_str</span><span class="p">:</span> <span class="k">return</span> <span class="s2">&quot;String&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span> <span class="ow">is</span> <span class="n">convert_bool</span><span class="p">:</span> <span class="k">return</span> <span class="s2">&quot;Bool&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span> <span class="ow">is</span> <span class="n">convert_logging</span><span class="p">:</span> <span class="k">return</span> <span class="s2">&quot;Log Level&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span> <span class="ow">is</span> <span class="n">convert_str_seq</span><span class="p">:</span> <span class="k">return</span> <span class="s2">&quot;List[String]&quot;</span>

<span class="n">_config_user_locations</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">join</span><span class="p">(</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="s2">&quot;.bokeh&quot;</span><span class="p">,</span> <span class="s2">&quot;bokeh.yaml&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">_config_system_locations</span> <span class="o">=</span> <span class="p">()</span>

<div class="viewcode-block" id="Settings"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings">[docs]</a><span class="k">class</span> <span class="nc">Settings</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_override</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_try_load_config</span><span class="p">(</span><span class="n">_config_user_locations</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_system</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># TODO (bev)</span>

        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">PrioritizedSetting</span><span class="p">):</span>
                <span class="n">x</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_system</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_system</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_user</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_override</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_override</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">is_dev</span><span class="p">()</span>

    <span class="n">allowed_ws_origin</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;allowed_ws_origin&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_ALLOW_WS_ORIGIN&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_str_seq</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    A comma-separated list of allowed websocket origins for Bokeh server applications.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">browser</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;browser&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_BROWSER&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The default browser that Bokeh should use to show documents with.</span>

<span class="s2">    Valid values are any of the browser names understood by the python</span>
<span class="s2">    standard library webbrowser_ module.</span>

<span class="s2">    .. _webbrowser: https://docs.python.org/2/library/webbrowser.html</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">docs_cdn</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;docs_cdn&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_DOCS_CDN&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The version of BokehJS that should be use for loading CDN resources when</span>
<span class="s2">    building the docs.</span>

<span class="s2">    To build and display the docs using a locally built BokehJS, use ``local``.</span>
<span class="s2">    For example:</span>

<span class="s2">    .. code-block:: sh</span>

<span class="s2">        BOKEH_DOCS_CDN=local make clean serve</span>

<span class="s2">    Will build a fresh copy of the docs using the locally built BokehJS and open</span>
<span class="s2">    a new browser tab to view them.</span>

<span class="s2">    Otherwise, the value is interpreted a version for CDN. For example:</span>

<span class="s2">    .. code-block:: sh</span>

<span class="s2">        BOKEH_DOCS_CDN=1.4.0rc1 make clean</span>

<span class="s2">    will build docs that use BokehJS version ``1.4.0rc1`` from CDN.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">docs_version</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;docs_version&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_DOCS_CDN&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The Bokeh version to stipulate when building the docs.</span>

<span class="s2">    This setting is necessary to re-deploy existing versions of docs with new</span>
<span class="s2">    fixes or changes.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">ignore_filename</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;ignore_filename&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_IGNORE_FILENAME&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_bool</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether to ignore the current script filename when saving Bokeh content.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">log_level</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;log_level&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Set the log level for JavaScript BokehJS code.</span>

<span class="s2">    Valid values are, in order of increasing severity:</span>

<span class="s2">    - ``trace``</span>
<span class="s2">    - ``debug``</span>
<span class="s2">    - ``info``</span>
<span class="s2">    - ``warn``</span>
<span class="s2">    - ``error``</span>
<span class="s2">    - ``fatal``</span>

<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">minified</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;minified&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_MINIFIED&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_bool</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether Bokeh should use minified BokehJS resources.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">nodejs_path</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;nodejs_path&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_NODEJS_PATH&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Path to the Node executable.</span>

<span class="s2">    NodeJS is an optional dependency that is required for PNG and SVG export,</span>
<span class="s2">    and for compiling custom extensions. Bokeh will try to automatically locate</span>
<span class="s2">    an installed Node executable. Use this environment variable to override the</span>
<span class="s2">    location Bokeh finds, or to point to a non-standard location.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">perform_document_validation</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;validate_doc&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_VALIDATE_DOC&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_bool</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    whether Bokeh should perform validation checks on documents.</span>

<span class="s2">    Setting this value to False may afford a small performance improvement.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">phantomjs_path</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;phantomjs_path&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_PHANTOMJS_PATH&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Path to the PhantomJS executable.</span>

<span class="s2">    PhantomJS is an optional dependency that is required for PNG and SVG export.</span>
<span class="s2">    Bokeh will try to automatically locate an installed PhantomJS executable.</span>
<span class="s2">    Use this environment variable to override the location Bokeh finds, or to</span>
<span class="s2">    point to a non-standard location.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">pretty</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;pretty&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_PRETTY&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether JSON strings should be pretty-printed.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">py_log_level</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;py_log_level&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_PY_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_logging</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The log level for Python Bokeh code.</span>

<span class="s2">    Valid values are, in order of increasing severity:</span>

<span class="s2">    - ``trace``</span>
<span class="s2">    - ``debug``</span>
<span class="s2">    - ``info``</span>
<span class="s2">    - ``warn``</span>
<span class="s2">    - ``error``</span>
<span class="s2">    - ``fatal``</span>
<span class="s2">    - ``none``</span>

<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_RESOURCES&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">,</span> <span class="n">dev_default</span><span class="o">=</span><span class="s2">&quot;absolute-dev&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    What kind of BokehJS resources to configure, e.g ``inline`` or ``cdn``</span>

<span class="s2">    See the :class:`~bokeh.resources.Resources` class reference for full details.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">rootdir</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;rootdir&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_ROOTDIR&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Root directory to use with ``relative`` resources</span>

<span class="s2">    See the :class:`~bokeh.resources.Resources` class reference for full details.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">secret_key</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;secret_key&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SECRET_KEY&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    A long, cryptographically-random secret unique to a Bokeh deployment.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">sign_sessions</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;sign_sessions&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SIGN_SESSIONS&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether the Boeh server should only allow sessions signed with a secret key.</span>

<span class="s2">    If True, ``BOKEH_SECRET_KEY`` must also be set.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">simple_ids</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;simple_ids&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SIMPLE_IDS&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_bool</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether Bokeh should use simple integers for model IDs (starting at 1000).</span>

<span class="s2">    If False, Bokeh will use UUIDs for object identifiers. This might be needed,</span>
<span class="s2">    e.g., if mulitple processes are contributing to a single Bokeh Document.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">ssl_certfile</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;ssl_certfile&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SSL_CERTFILE&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The path to a certificate file for SSL termination.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">ssl_keyfile</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;ssl_keyfile&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SSL_KEYFILE&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    The path to a private key file for SSL termination.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">ssl_password</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;ssl_password&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_SSL_PASSWORD&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">     A password to decrypt the SSL keyfile, if necessary.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">strict</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;strict&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_STRICT&quot;</span><span class="p">,</span> <span class="n">convert</span><span class="o">=</span><span class="n">convert_bool</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Whether validation checks should be strict (i.e. raise errors).</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="n">version</span> <span class="o">=</span> <span class="n">PrioritizedSetting</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;BOKEH_VERSION&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    What version of BokehJS to use with CDN resources.</span>

<span class="s2">    See the :class:`~bokeh.resources.Resources` class reference for full details.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Non-settings methods</span>

<div class="viewcode-block" id="Settings.bokehjsdir"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings.bokehjsdir">[docs]</a>    <span class="k">def</span> <span class="nf">bokehjsdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; The location of the BokehJS source tree.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">bokehjsdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dev</span><span class="p">)</span></div>

<div class="viewcode-block" id="Settings.css_files"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings.css_files">[docs]</a>    <span class="k">def</span> <span class="nf">css_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; The CSS files in the BokehJS directory.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">js_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bokehjsdir</span><span class="p">()):</span>
            <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.css&quot;</span><span class="p">):</span>
                    <span class="n">js_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">fname</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">js_files</span></div>

<div class="viewcode-block" id="Settings.js_files"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings.js_files">[docs]</a>    <span class="k">def</span> <span class="nf">js_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; The JS files in the BokehJS directory.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">js_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bokehjsdir</span><span class="p">()):</span>
            <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">fname</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.js&quot;</span><span class="p">):</span>
                    <span class="n">js_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">fname</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">js_files</span></div>

<div class="viewcode-block" id="Settings.load_config"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings.load_config">[docs]</a>    <span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Load a user-specified override config file.</span>

<span class="sd">        The file should be a YAML format with ``key: value`` lines.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_config_override</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">abspath</span><span class="p">(</span><span class="n">location</span><span class="p">)),</span> <span class="n">Loader</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">SafeLoader</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not load Bokeh config file: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">location</span><span class="p">))</span></div>

<div class="viewcode-block" id="Settings.secret_key_bytes"><a class="viewcode-back" href="../../docs/reference/settings.html#bokeh.settings.Settings.secret_key_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">secret_key_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Return the secret_key, converted to bytes and cached.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_secret_key_bytes&#39;</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secret_key</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_secret_key_bytes</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_secret_key_bytes</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secret_key_bytes</span></div>

    <span class="k">def</span> <span class="nf">_try_load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">location</span><span class="p">),</span> <span class="n">Loader</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">SafeLoader</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="p">{}</span></div>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Private API</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="c1">#-----------------------------------------------------------------------------</span>
<span class="c1"># Code</span>
<span class="c1">#-----------------------------------------------------------------------------</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>

<span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">secret_key</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">secret_key</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">warnings</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;BOKEH_SECRET_KEY is recommended to have at least 32 bytes of entropy chosen with a cryptographically-random algorithm&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">sign_sessions</span><span class="p">()</span> <span class="ow">and</span> <span class="n">settings</span><span class="o">.</span><span class="n">secret_key</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">warnings</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;BOKEH_SECRET_KEY must be set if BOKEH_SIGN_SESSIONS is set to True&quot;</span><span class="p">)</span>
</pre></div>

        </div>
    </div>

    <!-- END MAIN BODY OF DOCS ––––––––––––– -->

    <footer class="footer">
        <div class="footer-links">
            <ul>
                <li><span class="footer-title">About Us</span></li>
                 
                <li><a href="//bokeh.org/roadmap">Roadmap</a></li>
                  
                <li><a href="//bokeh.org/team">Team</a></li>
                  
                <li><a href="//bokeh.org/citation">Citation</a></li>
                  
                <li><a href="//bokeh.org">Contact</a></li>
                 
            </ul>
            <ul>
                <li><span class="footer-title">Join Us</span></li>
                 
                <li><a href="../../docs/contribute.html">Contribute</a></li>
                  
                <li><a href="//discourse.bokeh.org">Discourse</a></li>
                  
                <li><a href="//github.com/bokeh/bokeh">Github</a></li>
                  
                <li><a href="//twitter.com/BokehPlots">Twitter</a></li>
                 
            </ul>
            <ul class="copyright">
                <li>© Copyright 2015-2018, Anaconda and Bokeh Contributors.</li>
            </ul>
        </div>
    </footer>

    <!-- Google Analytics -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('user.set', 'anonymizeIp', true);
  ga('send', 'pageview');
</script>

    <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>