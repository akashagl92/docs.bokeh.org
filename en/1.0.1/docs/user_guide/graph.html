<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Visualizing Network Graphs &mdash; Bokeh 1.0.1 documentation</title>
  <meta name="description" content="Bokeh visualization library, documentation site.">
  <meta name="author" content="Bokeh contributors">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: ['Source Sans Pro']
      }
    });
  </script>

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="../../_static/css/main.css">

  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript">
    var _BOKEH_CURRENT_VERSION = "1.0.1";
  </script>
  <script src="../../_static/js/main.js"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="https://static.bokeh.org/favicon/favicon-32x32.png.ico">

  <!-- Canonical
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="canonical" href="https://docs.bokeh.org/en/latest/docs/user_guide/graph.html" />

</head>
<body class="">

  <header class="navigation">
    <div class="wrapper">
      <a href="" class="logo">
        <img src="../../_static/images/logo.png" alt="Bokeh Logo">
      </a>
      <a href="" class="navigation-menu logo-text">Bokeh</a>
      <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">Menu</a>
      <nav>
        <ul id="js-navigation-menu" class="navigation-menu show">
        
          <li class="nav-link"><a href="//github.com/bokeh/bokeh">Github</a></li>
        
        </ul>
      </nav>
    </div>
  </header>
  <div class="second-nav">
    <nav>
      <ul class="navigation-menu show">
        <li class="nav-link more"><a href="../../index.html">1.0.1</a>
            <ul class="submenu">
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/1.0.1/">1.0.1</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/1.0.0/">1.0.0</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.13.0/">0.13.0</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.16/">0.12.16</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.15/">0.12.15</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.14/">0.12.14</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.11.0/">0.11.0</a></li>
              
            </ul>
        </li>
            
            <li class="nav-link doc-head"><a href="../installation.html">Installation</a></li>
            
            
            <li class="nav-link doc-head"><a href="../user_guide.html">User Guide</a></li>
            
            
            <li class="nav-link doc-head"><a href="../gallery.html">Gallery</a></li>
            
            
            <li class="nav-link doc-head"><a href="https://mybinder.org/v2/gh/bokeh/bokeh-notebooks/master?filepath=tutorial%2F00%20-%20Introduction%20and%20Setup.ipynb">Tutorial</a></li>
            
            
            <li class="nav-link doc-head"><a href="../reference.html">Reference</a></li>
            
            
            <li class="nav-link doc-head"><a href="../releases.html">Releases</a></li>
            
            
            <li class="nav-link doc-head"><a href="../dev_guide.html">Developer Guide</a></li>
            
      </ul>
    </nav>
  </div>

<!-- MAIN BODY OF DOCS –––––––––––––––––– -->
  <div class="docs section">
    <div class="toc">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Defining Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting with Basic Glyphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Providing Data for Plots and Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">Laying out Plots and Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="categorical.html">Handling Categorical Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Visualizing Network Graphs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#edge-and-node-renderers">Edge and Node Renderers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#layout-providers">Layout Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#explicit-paths">Explicit Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="#networkx-integration">Networkx Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interaction-policies">Interaction Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#node-and-edge-attributes">Node and Edge Attributes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geo.html">Mapping Geo Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Configuring Plot Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="styling.html">Styling Visual Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotations.html">Adding Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="interaction.html">Adding Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Running a Bokeh Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebook.html">Working in the Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="export.html">Exporting Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="embed.html">Embedding Plots and Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Using <code class="docutils literal notranslate"><span class="pre">bokeh</span></code> Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extending Bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="compat.html">Leveraging Other Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="webgl.html">Speeding up with WebGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="bokehjs.html">Developing with JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="info.html">Learning More</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/0_bokeh.html">bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/application.html">bokeh.application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/client.html">bokeh.client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/colors.html">bokeh.colors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/command.html">bokeh.command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/core.html">bokeh.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/document.html">bokeh.document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/driving.html">bokeh.driving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/embed.html">bokeh.embed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/events.html">bokeh.events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/io.html">bokeh.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/layouts.html">bokeh.layouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/model.html">bokeh.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/models.html">bokeh.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/palettes.html">bokeh.palettes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/plotting.html">bokeh.plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/protocol.html">bokeh.protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/resources.html">bokeh.resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/sampledata.html">bokeh.sampledata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/server.html">bokeh.server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/settings.html">bokeh.settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/sphinxext.html">bokeh.sphinxext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/themes.html">bokeh.themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/tile_providers.html">bokeh.tile_providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/transform.html">bokeh.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/util.html">bokeh.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/setup.html">Getting Set Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/env_vars.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/models.html">Bokeh Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/server.html">Server Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/bindings.html">Language Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/bokehjs.html">BokehJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">1.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-1-0-0">1.0.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-13-0">0.13.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-16">0.12.16</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-15">0.12.15</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-14">0.12.14</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-13">0.12.13</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-11">0.12.11</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-10">0.12.10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-9">0.12.9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-7">0.12.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-6">0.12.6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-5">0.12.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-4">0.12.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-3">0.12.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-2">0.12.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-1">0.12.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-12-0">0.12.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-11-1">0.11.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-11-0">0.11.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-10-0">0.10.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-9-3">0.9.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-9-2">0.9.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-9-1">0.9.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-9-0">0.9.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-8-2">0.8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-8-1">0.8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-8-0">0.8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-7-1">0.7.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-7-0">0.7.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-6-1">0.6.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-6-0">0.6.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-5-2">0.5.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-5-1">0.5.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-5-0">0.5.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-4-4">0.4.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-4-2">0.4.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-4-1">0.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-4-0">0.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-3-0">0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-2-0">0.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html#release-0-1-0">0.1.0</a></li>
</ul>

    </div>
    <div class="content">
        
  <div class="section" id="visualizing-network-graphs">
<span id="userguide-graph"></span><h1>Visualizing Network Graphs<a class="headerlink" href="#visualizing-network-graphs" title="Permalink to this headline">¶</a></h1>
<p>Bokeh has added native support for creating network graph visualizations with
configurable interactions between edges and nodes.</p>
<div class="section" id="edge-and-node-renderers">
<h2>Edge and Node Renderers<a class="headerlink" href="#edge-and-node-renderers" title="Permalink to this headline">¶</a></h2>
<p>The key feature of the <code class="docutils literal notranslate"><span class="pre">GraphRenderer</span></code> is that it maintains separate
sub-GlyphRenderers for the graph nodes and the graph edges. This allows for
customizing the nodes by modifying the GraphRenderer’s <code class="docutils literal notranslate"><span class="pre">node_renderer</span></code>
property. It’s possible to replace the default Circle node glyph with any
XYGlyph instance, for example a Rect or Oval glyph. Similarly, the style
properties of the edges can modified through the <code class="docutils literal notranslate"><span class="pre">edge_renderer</span></code> property.
The edge glyph is currently limited to a MultiLine glyph.</p>
<p>There are a couple requirements for the data sources belonging to these
sub-renderers:</p>
<ul class="simple">
<li>The ColumnDataSource associated with the node sub-renderer must have a column
named <code class="docutils literal notranslate"><span class="pre">&quot;index&quot;</span></code> that contains the unique indices of the nodes.</li>
<li>The ColumnDataSource associated with the edge sub-renderer has two required
columns: <code class="docutils literal notranslate"><span class="pre">&quot;start&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;end&quot;</span></code>. These columns contain the node indices of
for the start and end of the edges.</li>
</ul>
<p>It’s possible to add extra meta-data to these data sources to in order to
add vectorized glyph styling or make data available for callbacks or hover
tooltips.</p>
<p>Here’s a code snippet that:</p>
<ul class="simple">
<li>replaces the node glyph with an Oval</li>
<li>sets the <code class="docutils literal notranslate"><span class="pre">height</span></code> and <code class="docutils literal notranslate"><span class="pre">width</span></code> attributes of the Oval as scalar values</li>
<li>sets the <code class="docutils literal notranslate"><span class="pre">fill_color</span></code> attribute of the Oval as a vectorized field and adds
the values to the node data source.</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">GraphRenderer</span><span class="p">,</span> <span class="n">Oval</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral8</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">node_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Graph Layout Demonstration&quot;</span><span class="p">,</span> <span class="n">x_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span>
              <span class="n">tools</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">toolbar_location</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">GraphRenderer</span><span class="p">()</span>

<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">Oval</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="s2">&quot;fill_color&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">index</span><span class="o">=</span><span class="n">node_indices</span><span class="p">,</span>
    <span class="n">fill_color</span><span class="o">=</span><span class="n">Spectral8</span><span class="p">)</span>

<span class="n">graph</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">start</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="n">node_indices</span><span class="p">)</span>
</pre></div>
</div>
<p>No graph will be rendered by running the above code snippet because we haven’t
specified how to arrange the graph in 2D space. You can learn how to do that
in the following section.</p>
</div>
<div class="section" id="layout-providers">
<h2>Layout Providers<a class="headerlink" href="#layout-providers" title="Permalink to this headline">¶</a></h2>
<p>Bokeh uses a separate <code class="docutils literal notranslate"><span class="pre">LayoutProvider</span></code> model in order to supply the coordinates
of a graph in Cartesian space. Currently the only built-in provider is the
<a class="reference internal" href="../reference/models/graphs.html#bokeh.models.graphs.StaticLayoutProvider" title="bokeh.models.graphs.StaticLayoutProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticLayoutProvider</span></code></a> model, which contains a
dictionary of (x,y) coordinates for the nodes.</p>
<p>This example adds a provider to the above code snippet:</p>
<div class="highlight-python notranslate" id="docs/user_guide/graph.bokeh-plot-f91c61a266a54df4aec10df778b72ad2.js"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">GraphRenderer</span><span class="p">,</span> <span class="n">StaticLayoutProvider</span><span class="p">,</span> <span class="n">Oval</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral8</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">node_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Graph Layout Demonstration&#39;</span><span class="p">,</span> <span class="n">x_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span>
              <span class="n">tools</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">toolbar_location</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">GraphRenderer</span><span class="p">()</span>

<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node_indices</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spectral8</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">Oval</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">)</span>

<span class="n">graph</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">start</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="n">node_indices</span><span class="p">)</span>

<span class="c1">### start of layout code</span>
<span class="n">circ</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">node_indices</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">circ</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">circ</span><span class="p">]</span>

<span class="n">graph_layout</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">node_indices</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<span class="n">graph</span><span class="o">.</span><span class="n">layout_provider</span> <span class="o">=</span> <span class="n">StaticLayoutProvider</span><span class="p">(</span><span class="n">graph_layout</span><span class="o">=</span><span class="n">graph_layout</span><span class="p">)</span>

<span class="n">plot</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

<span class="n">output_file</span><span class="p">(</span><span class="s1">&#39;graph.html&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>

<script src="/en/1.0.1/scripts/bokeh-plot-f91c61a266a54df4aec10df778b72ad2.js" id="f79f47c4-3c78-40c2-b27d-f54ee6ffbba1"></script></div>
<div class="section" id="explicit-paths">
<h2>Explicit Paths<a class="headerlink" href="#explicit-paths" title="Permalink to this headline">¶</a></h2>
<p>By default the <a class="reference internal" href="../reference/models/graphs.html#bokeh.models.graphs.StaticLayoutProvider" title="bokeh.models.graphs.StaticLayoutProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticLayoutProvider</span></code></a> will
draw straight-line paths between the supplied node positions. In order
to supply explicit edge paths you may also supply lists of paths to
the <code class="docutils literal notranslate"><span class="pre">edge_renderer</span></code>
<a class="reference internal" href="../reference/models/sources.html#bokeh.models.sources.ColumnDataSource" title="bokeh.models.sources.ColumnDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">bokeh.models.sources.ColumnDataSource</span></code></a>. The
<a class="reference internal" href="../reference/models/graphs.html#bokeh.models.graphs.StaticLayoutProvider" title="bokeh.models.graphs.StaticLayoutProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticLayoutProvider</span></code></a> will look for these
paths on the <code class="docutils literal notranslate"><span class="pre">&quot;xs&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;ys&quot;</span></code> columns of the data source. Note
that these paths should be in the same order as the <code class="docutils literal notranslate"><span class="pre">&quot;start&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;end&quot;</span></code> points. Also note that there is no validation that they
match up with the node positions so be extra careful when setting
explicit paths.</p>
<p>This example extends the example from above to draw quadratic bezier
paths between the nodes:</p>
<div class="highlight-python notranslate" id="docs/user_guide/graph.bokeh-plot-1231e9aab864479abc0cc9f67aa6e542.js"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">GraphRenderer</span><span class="p">,</span> <span class="n">StaticLayoutProvider</span><span class="p">,</span> <span class="n">Oval</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral8</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">node_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Graph Layout Demonstration&quot;</span><span class="p">,</span> <span class="n">x_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span>
              <span class="n">tools</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">toolbar_location</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">GraphRenderer</span><span class="p">()</span>

<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node_indices</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Spectral8</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">Oval</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>

<span class="n">graph</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">start</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="n">node_indices</span><span class="p">)</span>

<span class="c1">### start of layout code</span>
<span class="n">circ</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">node_indices</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">circ</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">circ</span><span class="p">]</span>
<span class="n">graph_layout</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">node_indices</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<span class="n">graph</span><span class="o">.</span><span class="n">layout_provider</span> <span class="o">=</span> <span class="n">StaticLayoutProvider</span><span class="p">(</span><span class="n">graph_layout</span><span class="o">=</span><span class="n">graph_layout</span><span class="p">)</span>

<span class="c1">### Draw quadratic bezier paths</span>
<span class="k">def</span> <span class="nf">bezier</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">control</span><span class="p">,</span> <span class="n">steps</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[(</span><span class="mi">1</span><span class="o">-</span><span class="n">s</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">start</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">s</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">control</span> <span class="o">+</span> <span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">end</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">]</span>

<span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="n">graph_layout</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">steps</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mf">100.</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">node_index</span> <span class="ow">in</span> <span class="n">node_indices</span><span class="p">:</span>
    <span class="n">ex</span><span class="p">,</span> <span class="n">ey</span> <span class="o">=</span> <span class="n">graph_layout</span><span class="p">[</span><span class="n">node_index</span><span class="p">]</span>
    <span class="n">xs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bezier</span><span class="p">(</span><span class="n">sx</span><span class="p">,</span> <span class="n">ex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">steps</span><span class="p">))</span>
    <span class="n">ys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bezier</span><span class="p">(</span><span class="n">sy</span><span class="p">,</span> <span class="n">ey</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">steps</span><span class="p">))</span>
<span class="n">graph</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;xs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xs</span>
<span class="n">graph</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;ys&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ys</span>

<span class="n">plot</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;graph.html&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>

<script src="/en/1.0.1/scripts/bokeh-plot-1231e9aab864479abc0cc9f67aa6e542.js" id="7f996ac8-d014-41ce-94aa-1148fc393c75"></script></div>
<div class="section" id="networkx-integration">
<h2>Networkx Integration<a class="headerlink" href="#networkx-integration" title="Permalink to this headline">¶</a></h2>
<p>Bokeh supports quickly plotting a network graph with its networkx integration.
The <code class="docutils literal notranslate"><span class="pre">bokeh.models.graphs.from_networkx</span></code> convenience method accepts a
<code class="docutils literal notranslate"><span class="pre">networkx.Graph</span></code> object and a networkx layout method in order to return a
configured GraphRenderer instance.</p>
<p>Here is an example of using the <code class="docutils literal notranslate"><span class="pre">networkx.spring_layout</span></code> method to
layout networkx’s built-in “Zachary’s Karate Club graph” dataset:</p>
<div class="highlight-python notranslate" id="docs/user_guide/graph.bokeh-plot-fa4c416b6c82422e8bef36a46ca9a1b0.js"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="kn">as</span> <span class="nn">nx</span>

<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models.graphs</span> <span class="kn">import</span> <span class="n">from_networkx</span>

<span class="n">G</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Networkx Integration Demonstration&quot;</span><span class="p">,</span> <span class="n">x_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span>
              <span class="n">tools</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">toolbar_location</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">from_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plot</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;networkx_graph.html&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>

<script src="/en/1.0.1/scripts/bokeh-plot-fa4c416b6c82422e8bef36a46ca9a1b0.js" id="fab8c7ac-cce3-44f7-9ed8-ae3851d16bb9"></script></div>
<div class="section" id="interaction-policies">
<h2>Interaction Policies<a class="headerlink" href="#interaction-policies" title="Permalink to this headline">¶</a></h2>
<p>It’s possible to configure the selection or inspection behavior of graphs by
setting the GraphRenderer’s <code class="docutils literal notranslate"><span class="pre">selection_policy</span></code> and <code class="docutils literal notranslate"><span class="pre">inspection_policy</span></code>
attributes. These policy attributes accept a special <code class="docutils literal notranslate"><span class="pre">GraphHitTestPolicy</span></code>
model instance.</p>
<p>For example, setting <code class="docutils literal notranslate"><span class="pre">selection_policy=NodesAndLinkedEdges()</span></code> will cause
a selected node to also select the associated edges. Similarly, setting
<code class="docutils literal notranslate"><span class="pre">inspection_policy=EdgesAndLinkedNodes()</span></code> will cause the start and end nodes
of an edge to also be inspected upon hovering an edge with the HoverTool.</p>
<p>Users may want to customize the <code class="docutils literal notranslate"><span class="pre">selection_glyph</span></code>, <code class="docutils literal notranslate"><span class="pre">nonselection_glyph</span></code>,
and/or <code class="docutils literal notranslate"><span class="pre">hover_glyph</span></code> attributes of the edge and node sub-renderers in order
to add dynamic visual elements to their graph interactions.</p>
<p>Here’s a graph example with added node and edge interactions:</p>
<div class="highlight-python notranslate" id="docs/user_guide/graph.bokeh-plot-624746f7762245e4b20326421ee948c8.js"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="kn">as</span> <span class="nn">nx</span>

<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">Plot</span><span class="p">,</span> <span class="n">Range1d</span><span class="p">,</span> <span class="n">MultiLine</span><span class="p">,</span> <span class="n">Circle</span><span class="p">,</span> <span class="n">HoverTool</span><span class="p">,</span> <span class="n">TapTool</span><span class="p">,</span> <span class="n">BoxSelectTool</span>
<span class="kn">from</span> <span class="nn">bokeh.models.graphs</span> <span class="kn">import</span> <span class="n">from_networkx</span><span class="p">,</span> <span class="n">NodesAndLinkedEdges</span><span class="p">,</span> <span class="n">EdgesAndLinkedNodes</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral4</span>

<span class="n">G</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">x_range</span><span class="o">=</span><span class="n">Range1d</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="n">Range1d</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">))</span>
<span class="n">plot</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Graph Interaction Demonstration&quot;</span>

<span class="n">plot</span><span class="o">.</span><span class="n">add_tools</span><span class="p">(</span><span class="n">HoverTool</span><span class="p">(</span><span class="n">tooltips</span><span class="o">=</span><span class="bp">None</span><span class="p">),</span> <span class="n">TapTool</span><span class="p">(),</span> <span class="n">BoxSelectTool</span><span class="p">())</span>

<span class="n">graph_renderer</span> <span class="o">=</span> <span class="n">from_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">circular_layout</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

<span class="n">graph_renderer</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">selection_glyph</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">hover_glyph</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">graph_renderer</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">MultiLine</span><span class="p">(</span><span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;#CCCCCC&quot;</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">selection_glyph</span> <span class="o">=</span> <span class="n">MultiLine</span><span class="p">(</span><span class="n">line_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">hover_glyph</span> <span class="o">=</span> <span class="n">MultiLine</span><span class="p">(</span><span class="n">line_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">graph_renderer</span><span class="o">.</span><span class="n">selection_policy</span> <span class="o">=</span> <span class="n">NodesAndLinkedEdges</span><span class="p">()</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">inspection_policy</span> <span class="o">=</span> <span class="n">EdgesAndLinkedNodes</span><span class="p">()</span>

<span class="n">plot</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">graph_renderer</span><span class="p">)</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;interactive_graphs.html&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>

<script src="/en/1.0.1/scripts/bokeh-plot-624746f7762245e4b20326421ee948c8.js" id="8a5c6e11-1c5a-4df9-8bca-6f208706392e"></script></div>
<div class="section" id="node-and-edge-attributes">
<h2>Node and Edge Attributes<a class="headerlink" href="#node-and-edge-attributes" title="Permalink to this headline">¶</a></h2>
<p>In <code class="docutils literal notranslate"><span class="pre">from_networkx</span></code>, NetworkX’s node/edge attributes are converted for
GraphRenderer’s <code class="docutils literal notranslate"><span class="pre">node_renderer</span></code>/<code class="docutils literal notranslate"><span class="pre">edge_renderer</span></code>.</p>
<p>For example, “Zachary’s Karate Club graph” dataset has a node attribute named
“club”. It’s possible to hover these information using the node attributes
converted in <code class="docutils literal notranslate"><span class="pre">from_networkx</span></code>. Similarly, node/edge attributes can also be
used for color information.</p>
<p>Here’s a graph example that hovers node attributes and changes colors with
edge attributes:</p>
<div class="highlight-python notranslate" id="docs/user_guide/graph.bokeh-plot-3b6913c923a74aa49a3086c1c13d14ff.js"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="kn">as</span> <span class="nn">nx</span>

<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_file</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">Plot</span><span class="p">,</span> <span class="n">Range1d</span><span class="p">,</span> <span class="n">MultiLine</span><span class="p">,</span> <span class="n">Circle</span><span class="p">,</span> <span class="n">HoverTool</span><span class="p">,</span> <span class="n">BoxZoomTool</span><span class="p">,</span> <span class="n">ResetTool</span>
<span class="kn">from</span> <span class="nn">bokeh.models.graphs</span> <span class="kn">import</span> <span class="n">from_networkx</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral4</span>

<span class="c1"># Prepare Data</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">karate_club_graph</span><span class="p">()</span>

<span class="n">SAME_CLUB_COLOR</span><span class="p">,</span> <span class="n">DIFFERENT_CLUB_COLOR</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span>
<span class="n">edge_attrs</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">start_node</span><span class="p">,</span> <span class="n">end_node</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="n">edge_color</span> <span class="o">=</span> <span class="n">SAME_CLUB_COLOR</span> <span class="k">if</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">start_node</span><span class="p">][</span><span class="s2">&quot;club&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">end_node</span><span class="p">][</span><span class="s2">&quot;club&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="n">DIFFERENT_CLUB_COLOR</span>
    <span class="n">edge_attrs</span><span class="p">[(</span><span class="n">start_node</span><span class="p">,</span> <span class="n">end_node</span><span class="p">)]</span> <span class="o">=</span> <span class="n">edge_color</span>

<span class="n">nx</span><span class="o">.</span><span class="n">set_edge_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">edge_attrs</span><span class="p">,</span> <span class="s2">&quot;edge_color&quot;</span><span class="p">)</span>

<span class="c1"># Show with Bokeh</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">x_range</span><span class="o">=</span><span class="n">Range1d</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">),</span> <span class="n">y_range</span><span class="o">=</span><span class="n">Range1d</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">))</span>
<span class="n">plot</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Graph Interaction Demonstration&quot;</span>

<span class="n">node_hover_tool</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span><span class="n">tooltips</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;@index&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;club&quot;</span><span class="p">,</span> <span class="s2">&quot;@club&quot;</span><span class="p">)])</span>
<span class="n">plot</span><span class="o">.</span><span class="n">add_tools</span><span class="p">(</span><span class="n">node_hover_tool</span><span class="p">,</span> <span class="n">BoxZoomTool</span><span class="p">(),</span> <span class="n">ResetTool</span><span class="p">())</span>

<span class="n">graph_renderer</span> <span class="o">=</span> <span class="n">from_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="n">graph_renderer</span><span class="o">.</span><span class="n">node_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">Spectral4</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">graph_renderer</span><span class="o">.</span><span class="n">edge_renderer</span><span class="o">.</span><span class="n">glyph</span> <span class="o">=</span> <span class="n">MultiLine</span><span class="p">(</span><span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;edge_color&quot;</span><span class="p">,</span> <span class="n">line_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">graph_renderer</span><span class="p">)</span>

<span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;interactive_graphs.html&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>

<script src="/en/1.0.1/scripts/bokeh-plot-3b6913c923a74aa49a3086c1c13d14ff.js" id="ea715b09-21dd-4931-9111-acebeb652089"></script></div>
</div>


    </div>
  </div>

<!-- END MAIN BODY OF DOCS ––––––––––––– -->

<footer class="footer">
  <div class="footer-links">
    <ul>
      <li><span class="footer-title">About Us</span></li>
      
        <li><a href="../vision.html">Vision and Work</a></li>
      
        <li><a href="../team.html">Team</a></li>
      
        <li><a href="../citation.html">Citation</a></li>
      
        <li><a href="../contact.html">Contact</a></li>
      
    </ul>
    <ul>
      <li><span class="footer-title">Join Us</span></li>
      
          
            <li><a href="../contribute.html">Contribute</a></li>
            
      
          
            <li><a href="//groups.google.com/a/anaconda.com/forum/#!forum/bokeh">Mailing list</a></li>
            
      
          
            <li><a href="//github.com/bokeh/bokeh">Github</a></li>
            
      
          
            <li><a href="//twitter.com/BokehPlots">Twitter</a></li>
            
      
    </ul>
    <ul class="copyright">
      <li>© Copyright 2015-2018, Anaconda and Bokeh Contributors.</li>
    </ul>
  </div>
</footer>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'auto');
  ga('user.set', 'anonymizeIp', true);
  ga('send', 'pageview');
</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>