<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>bokeh.core.properties &mdash; Bokeh 0.12.9 documentation</title>
  <meta name="description" content="Bokeh visualization library, documentation site.">
  <meta name="author" content="Bokeh contributors">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
  <script>
    WebFont.load({
      google: {
        families: ['Source Sans Pro']
      }
    });
  </script>

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="https://static.bokeh.org/bokehplots_archive/main.css">


  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript">
    var _BOKEH_CURRENT_VERSION = "0.12.9";
  </script>
  <script src="../../../_static/js/main.js"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="https://static.bokeh.org/favicon/favicon-32x32.png.ico">

  <!-- Canonical
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="canonical" href="https://docs.bokeh.org/en/latest/_modules/bokeh/core/properties.html" />

</head>
<body class="">

  <header class="navigation">
    <div class="wrapper">
      <a href="" class="logo">
        <img src="../../../_static/images/logo.png" alt="Bokeh Logo">
      </a>
      <a href="" class="navigation-menu logo-text">Bokeh</a>
      <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">Menu</a>
      <nav>
        <ul id="js-navigation-menu" class="navigation-menu show">
          
              <li class="nav-link"><a href="//bokeh.org/">About</a></li>
          
              <li class="nav-link"><a href="/docs/gallery.html">Gallery</a></li>
          
              <li class="nav-link"><a href="//bokeh.pydata.org/en/latest/">Docs</a></li>
          
              <li class="nav-link"><a href="//github.com/bokeh/bokeh">Github</a></li>
          
        </ul>
      </nav>
    </div>
  </header>
  <div class="second-nav">
    <nav>
      <ul class="navigation-menu show">
        <li class="nav-link more"><a href="../../../index.html">0.12.9</a>
            <ul class="submenu">
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.9/">0.12.9</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.7/">0.12.7</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.12.6/">0.12.6</a></li>
              
              <li class="version-link"><a href="//bokeh.pydata.org/en/0.11.0/">0.11.0</a></li>
              
            </ul>
        </li>
            <li class="nav-link doc-head"><a href="../../../docs/installation.html">Installation</a></li>
            <li class="nav-link doc-head"><a href="../../../docs/user_guide.html">User Guide</a></li>
            <li class="nav-link doc-head"><a href="../../../docs/gallery.html">Gallery</a></li>
            <li class="nav-link doc-head"><a href="../../../docs/reference.html">Reference</a></li>
            <li class="nav-link doc-head"><a href="../../../docs/releases/0.12.9.html">Releases</a></li>
            <li class="nav-link doc-head"><a href="../../../docs/dev_guide.html">Developer Guide</a></li>
      </ul>
    </nav>
    <div class="navigation-tools">
      <div class="search-bar">
  <form role="search" action="../../../search.html" method="get">
    <input type="search" name="q" placeholder="Search" />
    <button type="submit">
      <img src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon-black.png" alt="Search Icon">
    </button>
  </form>
</div>
    </div>
  </div>

<!-- MAIN BODY OF DOCS –––––––––––––––––– -->
  <div class="docs section">
    <div class="toc">
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/setup.html">Getting Set Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/concepts.html">Defining Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/plotting.html">Plotting with Basic Glyphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/data.html">Providing Data for Plots and Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/layout.html">Laying out Plots and Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/categorical.html">Handling Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/graph.html">Visualizing Network Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/geo.html">Mapping Geo Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/tools.html">Configuring Plot Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/styling.html">Styling Visual Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/annotations.html">Adding Annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/interaction.html">Adding Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/server.html">Running a Bokeh Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/notebook.html">Working in the Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/export.html">Exporting Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/embed.html">Embedding Plots and Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/cli.html">Using <code class="docutils literal"><span class="pre">bokeh</span></code> Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/extensions.html">Extending Bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/compat.html">Leveraging Other Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/webgl.html">Speeding up with WebGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/bokehjs.html">Developing with JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/user_guide/info.html">Learning More</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference.html">Reference Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/0_bokeh.html">bokeh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/application.html">bokeh.application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/client.html">bokeh.client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/command.html">bokeh.command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/core.html">bokeh.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/document.html">bokeh.document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/driving.html">bokeh.driving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/embed.html">bokeh.embed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/events.html">bokeh.events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/io.html">bokeh.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/layouts.html">bokeh.layouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/model.html">bokeh.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/models.html">bokeh.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/palettes.html">bokeh.palettes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/plotting.html">bokeh.plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/protocol.html">bokeh.protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/resources.html">bokeh.resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/sampledata.html">bokeh.sampledata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/server.html">bokeh.server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/settings.html">bokeh.settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/sphinxext.html">bokeh.sphinxext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/themes.html">bokeh.themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/tile_providers.html">bokeh.tile_providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/transform.html">bokeh.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/reference/util.html">bokeh.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/setup.html">Getting Set Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/env_vars.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/models.html">Bokeh Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/server.html">Server Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/bindings.html">Language Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/dev_guide/bokehjs.html">BokehJS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.9.html">0.12.9 (Sep 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.7.html">0.12.7 (Aug 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.6.html">0.12.6 (Jun 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.5.html">0.12.5 (Mar 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.4.html">0.12.4 (Jan 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.3.html">0.12.3 (Oct 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.2.html">0.12.2 (Sept 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.1.html">0.12.1 (Jul 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.12.0.html">0.12.0 (Jun 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.11.1.html">0.11.1 (Feb 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.11.0.html">0.11.0 (Jan 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.10.0.html">0.10.0 (Sep 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.9.3.html">0.9.3 (Aug 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.9.2.html">0.9.2 (Jul 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.9.1.html">0.9.1 (Jul 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.9.0.html">0.9.0 (May 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.8.2.html">0.8.2 (Mar 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.8.1.html">0.8.1 (Feb 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.8.0.html">0.8.0 (Feb 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.7.1.html">0.7.1 (Jan 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.7.0.html">0.7.0 (Dec 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.6.1.html">0.6.1 (Sep 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.6.0.html">0.6.0 (Sep 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.5.2.html">0.5.2 (Aug 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.5.1.html">0.5.1 (Jul 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.5.0.html">0.5.0 (Jul 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.4.4.html">0.4.4 (Apr 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.4.2.html">0.4.2 (Mar 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.4.1.html">0.4.1 (Feb 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.4.0.html">0.4.0 (Feb 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.3.0.html">0.3.0 (Nov 2013)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.2.0.html">0.2.0 (Oct 2013)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/releases/0.1.0.html">0.1.0 (Apr 2013)</a></li>
</ul>

    </div>
    <div class="content">
        
  <h1>Source code for bokeh.core.properties</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39; Properties are objects that can be assigned as class attributes on Bokeh</span>
<span class="sd">models, to provide automatic serialization, validation, and documentation.</span>

<span class="sd">This documentation is broken down into the following sections:</span>

<span class="sd">.. contents::</span>
<span class="sd">    :local:</span>

<span class="sd">Overview</span>
<span class="sd">--------</span>

<span class="sd">There are many property types defined in the module, for example ``Int`` to</span>
<span class="sd">represent integral values, ``Seq`` to represent sequences (e.g. lists or</span>
<span class="sd">tuples, etc.). Properties can also be combined: ``Seq(Float)`` represents</span>
<span class="sd">a sequence of floating point values.</span>

<span class="sd">For example, the following defines a model that has integer, string, and</span>
<span class="sd">list[float] properties:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    class SomeModel(Model):</span>
<span class="sd">        foo = Int</span>
<span class="sd">        bar = String(default=&quot;something&quot;)</span>
<span class="sd">        baz = List(Float, help=&quot;docs for baz prop&quot;)</span>

<span class="sd">As seen, properties can be declared as just the property type, e.g.</span>
<span class="sd">``foo = Int``, in which case the properties are automatically instantiated</span>
<span class="sd">on new Model objects. Or the property can be instantiated on the class,</span>
<span class="sd">and configured with default values and help strings.</span>

<span class="sd">The properties of this class can be initialized by specifying keyword</span>
<span class="sd">arguments to the initializer:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    m = SomeModel(foo=10, bar=&quot;a str&quot;, baz=[1,2,3,4])</span>

<span class="sd">But also by setting the attributes on an instance:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    m.foo = 20</span>

<span class="sd">Attempts to set a property to a value of the wrong type will</span>
<span class="sd">result in a ``ValueError`` exception:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">    &gt;&gt;&gt; m.foo = 2.3</span>
<span class="sd">    Traceback (most recent call last):</span>

<span class="sd">      &lt;&lt; traceback omitted &gt;&gt;</span>

<span class="sd">    ValueError: expected a value of type Integral, got 2.3 of type float</span>

<span class="sd">Models with properties know how to serialize themselves, to be understood</span>
<span class="sd">by BokehJS. Additionally, any help strings provided on properties can be</span>
<span class="sd">easily and automatically extracted with the Sphinx extensions in the</span>
<span class="sd">:ref:`bokeh.sphinxext` module.</span>


<span class="sd">Basic Properties</span>
<span class="sd">----------------</span>

<span class="sd">{basic_properties}</span>

<span class="sd">Container Properties</span>
<span class="sd">--------------------</span>

<span class="sd">{container_properties}</span>

<span class="sd">DataSpec Properties</span>
<span class="sd">-------------------</span>

<span class="sd">{dataspec_properties}</span>

<span class="sd">Helpers</span>
<span class="sd">~~~~~~~</span>

<span class="sd">.. autofunction:: field</span>
<span class="sd">.. autofunction:: value</span>


<span class="sd">Special Properties</span>
<span class="sd">------------------</span>

<span class="sd">.. autoclass:: Include</span>
<span class="sd">.. autoclass:: Override</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">print_function</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">copy</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">dateutil.parser</span>
<span class="kn">from</span> <span class="nn">importlib</span> <span class="k">import</span> <span class="n">import_module</span>
<span class="kn">import</span> <span class="nn">numbers</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">six</span> <span class="k">import</span> <span class="n">string_types</span><span class="p">,</span> <span class="n">iteritems</span>

<span class="kn">from</span> <span class="nn">..colors</span> <span class="k">import</span> <span class="n">RGB</span>
<span class="kn">from</span> <span class="nn">..util.dependencies</span> <span class="k">import</span> <span class="n">import_optional</span>
<span class="kn">from</span> <span class="nn">..util.serialization</span> <span class="k">import</span> <span class="n">convert_datetime_type</span><span class="p">,</span> <span class="n">decode_base64_dict</span><span class="p">,</span> <span class="n">transform_column_source_data</span>
<span class="kn">from</span> <span class="nn">..util.string</span> <span class="k">import</span> <span class="n">nice_join</span><span class="p">,</span> <span class="n">format_docstring</span>

<span class="kn">from</span> <span class="nn">.property.bases</span> <span class="k">import</span> <span class="n">ContainerProperty</span><span class="p">,</span> <span class="n">DeserializationError</span><span class="p">,</span> <span class="n">ParameterizedProperty</span><span class="p">,</span> <span class="n">Property</span><span class="p">,</span> <span class="n">PrimitiveProperty</span>
<span class="kn">from</span> <span class="nn">.property.containers</span> <span class="k">import</span> <span class="n">PropertyValueColumnData</span><span class="p">,</span> <span class="n">PropertyValueDict</span><span class="p">,</span> <span class="n">PropertyValueList</span>
<span class="kn">from</span> <span class="nn">.property.descriptor_factory</span> <span class="k">import</span> <span class="n">PropertyDescriptorFactory</span>
<span class="kn">from</span> <span class="nn">.property.descriptors</span> <span class="k">import</span> <span class="p">(</span><span class="n">BasicPropertyDescriptor</span><span class="p">,</span> <span class="n">ColumnDataPropertyDescriptor</span><span class="p">,</span> <span class="n">DataSpecPropertyDescriptor</span><span class="p">,</span>
                                   <span class="n">UnitsSpecPropertyDescriptor</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">enums</span>

<span class="n">pd</span> <span class="o">=</span> <span class="n">import_optional</span><span class="p">(</span><span class="s1">&#39;pandas&#39;</span><span class="p">)</span>

<span class="n">bokeh_bool_types</span> <span class="o">=</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="n">bokeh_bool_types</span> <span class="o">+=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">bool8</span><span class="p">,)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="n">bokeh_integer_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">,)</span>

<div class="viewcode-block" id="Bool"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Bool">[docs]</a><span class="k">class</span> <span class="nc">Bool</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept boolean values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (obj or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class BoolModel(HasProps):</span>
<span class="sd">            ...     prop = Bool(default=False)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = BoolModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = True</span>

<span class="sd">            &gt;&gt;&gt; m.prop = False</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_underlying_type</span> <span class="o">=</span> <span class="n">bokeh_bool_types</span></div>

<div class="viewcode-block" id="Int"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Int">[docs]</a><span class="k">class</span> <span class="nc">Int</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept signed integer values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (int or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class IntModel(HasProps):</span>
<span class="sd">            ...     prop = Int()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = IntModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10</span>

<span class="sd">            &gt;&gt;&gt; m.prop = -200</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.3  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_underlying_type</span> <span class="o">=</span> <span class="n">bokeh_integer_types</span></div>

<div class="viewcode-block" id="Float"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Float">[docs]</a><span class="k">class</span> <span class="nc">Float</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept floating point values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (float or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class FloatModel(HasProps):</span>
<span class="sd">            ...     prop = Float()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = FloatModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.3</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;  # ValueError !!</span>


<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_underlying_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Real</span><span class="p">,)</span></div>

<div class="viewcode-block" id="Complex"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Complex">[docs]</a><span class="k">class</span> <span class="nc">Complex</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept complex floating point values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (complex or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_underlying_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="n">Complex</span><span class="p">,)</span></div>

<div class="viewcode-block" id="String"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.String">[docs]</a><span class="k">class</span> <span class="nc">String</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept string values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (string or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class StringModel(HasProps):</span>
<span class="sd">            ...     prop = String()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = StringModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.3       # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = [1, 2, 3]  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_underlying_type</span> <span class="o">=</span> <span class="n">string_types</span></div>

<div class="viewcode-block" id="Regex"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Regex">[docs]</a><span class="k">class</span> <span class="nc">Regex</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept strings that match a given regular expression.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (string or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class RegexModel(HasProps):</span>
<span class="sd">            ...     prop = Regex(&quot;foo[0-9]+bar&quot;)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = RegexModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo123bar&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;      # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = [1, 2, 3]  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Regex</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Regex</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a string matching </span><span class="si">%r</span><span class="s2"> pattern, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="o">.</span><span class="n">pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>

<div class="viewcode-block" id="JSON"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.JSON">[docs]</a><span class="k">class</span> <span class="nc">JSON</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept JSON string values.</span>

<span class="sd">    The value is transmitted and received by BokehJS as a *string*</span>
<span class="sd">    containing JSON content. i.e., you must use ``JSON.parse`` to unpack</span>
<span class="sd">    the value into a JavaScript hash.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (string or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JSON</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">json</span>
            <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected JSON text, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Instance"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Instance">[docs]</a><span class="k">class</span> <span class="nc">Instance</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept values that are instances of |HasProps|.</span>



<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance_type</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instance_type</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">,)</span> <span class="o">+</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a type or string, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">instance_type</span><span class="p">)</span>

        <span class="kn">from</span> <span class="nn">.has_props</span> <span class="k">import</span> <span class="n">HasProps</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instance_type</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">instance_type</span><span class="p">,</span> <span class="n">HasProps</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a subclass of HasProps, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">instance_type</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_instance_type</span> <span class="o">=</span> <span class="n">instance_type</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Instance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">instance_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_instance_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">module</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance_type</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_instance_type</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="s2">&quot;bokeh&quot;</span><span class="p">),</span> <span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instance_type</span>

    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="kn">from</span> <span class="nn">..model</span> <span class="k">import</span> <span class="n">Model</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="p">,</span> <span class="n">Model</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">models</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> can&#39;t deserialize without models&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">json</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">model</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> failed to deserialize reference to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">iteritems</span><span class="p">(</span><span class="n">json</span><span class="p">):</span>
                    <span class="n">prop_descriptor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">property</span>
                    <span class="n">attrs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">prop_descriptor</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span>

                <span class="c1"># XXX: this doesn&#39;t work when Instance(Superclass) := Subclass()</span>
                <span class="c1"># Serialization dict must carry type information to resolve this.</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> expected a dict or None, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Instance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an instance of type </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2"> of type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_may_have_unstable_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># because the instance value is mutable</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fullname</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_model_link</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span></div>

<div class="viewcode-block" id="Any"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Any">[docs]</a><span class="k">class</span> <span class="nc">Any</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept all values.</span>

<span class="sd">    The ``Any`` property does not do any validation or transformation.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (obj or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class AnyModel(HasProps):</span>
<span class="sd">            ...     prop = Any()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = AnyModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = True</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 3.14</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = [1, 2, 3]</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">pass</span></div>

<div class="viewcode-block" id="Interval"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Interval">[docs]</a><span class="k">class</span> <span class="nc">Interval</span><span class="p">(</span><span class="n">ParameterizedProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept numeric values that are contained within a given interval.</span>

<span class="sd">    Args:</span>
<span class="sd">        interval_type (numeric property):</span>
<span class="sd">            numeric types for the range, e.g. ``Int``, ``Float``</span>

<span class="sd">        start (number) :</span>
<span class="sd">            A minimum allowable value for the range. Values less than</span>
<span class="sd">            ``start`` will result in validation errors.</span>

<span class="sd">        end (number) :</span>
<span class="sd">            A maximum allowable value for the range. Values greater than</span>
<span class="sd">            ``end`` will result in validation errors.</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class RangeModel(HasProps):</span>
<span class="sd">            ...     prop = Range(Float, 10, 20)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = RangeModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 20</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 15</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 2     # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 22    # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot; # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval_type</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">interval_type</span><span class="p">)</span>
        <span class="c1"># Make up a property name for validation purposes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">end</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Interval</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">, </span><span class="si">%r</span><span class="s2">, </span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Interval</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a value of type </span><span class="si">%s</span><span class="s2"> in range [</span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">], got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>

<div class="viewcode-block" id="Byte"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Byte">[docs]</a><span class="k">class</span> <span class="nc">Byte</span><span class="p">(</span><span class="n">Interval</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept integral byte values (0-255).</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class ByteModel(HasProps):</span>
<span class="sd">            ...     prop = Byte(default=0)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = ByteModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 255</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 256  # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.3 # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Byte</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">Int</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span></div>

<div class="viewcode-block" id="Either"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Either">[docs]</a><span class="k">class</span> <span class="nc">Either</span><span class="p">(</span><span class="n">ParameterizedProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept values according to a sequence of other property types.</span>

<span class="sd">        Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class EitherModel(HasProps):</span>
<span class="sd">            ...     prop = Either(Bool, Int, Auto)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = EitherModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = True</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;auto&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.3   # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tp1</span><span class="p">,</span> <span class="n">tp2</span><span class="p">,</span> <span class="o">*</span><span class="n">type_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">,</span> <span class="p">(</span><span class="n">tp1</span><span class="p">,</span> <span class="n">tp2</span><span class="p">)</span> <span class="o">+</span> <span class="n">type_params</span><span class="p">))</span>
        <span class="n">help</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">choose_default</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_raw_default</span><span class="p">()</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">choose_default</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Either</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alternatives</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">tp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alternatives</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tp</span><span class="o">.</span><span class="n">alternatives</span><span class="p">)</span>

    <span class="c1"># TODO (bev) get rid of this?</span>
    <span class="k">def</span> <span class="nf">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_params</span> <span class="o">+</span> <span class="p">[</span><span class="n">other</span><span class="p">]),</span> <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span>

    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">tp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">tp</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">DeserializationError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> couldn&#39;t deserialize </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">param</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Could not transform </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Either</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an element of either </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nice_join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">),</span> <span class="n">value</span><span class="p">))</span>

    <span class="c1"># TODO (bev) implement this</span>
    <span class="c1"># def _may_have_unstable_default(self):</span>
    <span class="c1">#     return any(tp._may_have_unstable_default() for tp in self.type_params)</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">_sphinx_type</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)</span></div>

<div class="viewcode-block" id="Enum"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Enum">[docs]</a><span class="k">class</span> <span class="nc">Enum</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept values from enumerations.</span>

<span class="sd">    The first value in enumeration is used as the default value, unless the</span>
<span class="sd">    ``default`` keyword argument is used.</span>

<span class="sd">    See :ref:`bokeh.core.enums` for more information.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enum</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="ow">not</span> <span class="n">values</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">enum</span><span class="p">,</span> <span class="n">enums</span><span class="o">.</span><span class="n">Enumeration</span><span class="p">)):</span>
            <span class="n">enum</span> <span class="o">=</span> <span class="n">enums</span><span class="o">.</span><span class="n">enumeration</span><span class="p">(</span><span class="n">enum</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_enum</span> <span class="o">=</span> <span class="n">enum</span>

        <span class="n">default</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">_default</span><span class="p">)</span>
        <span class="n">help</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Enum</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">repr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allowed_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enum</span><span class="o">.</span><span class="n">_values</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Enum</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enum</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;invalid value: </span><span class="si">%r</span><span class="s2">; allowed values are </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">nice_join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># try to return a link to a proper enum in bokeh.core.enums if possible</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enum</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enum</span> <span class="ow">is</span> <span class="n">obj</span><span class="p">:</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_model_link</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_enum</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_enum</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="n">val</span></div>

<div class="viewcode-block" id="Auto"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Auto">[docs]</a><span class="k">class</span> <span class="nc">Auto</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accepts only the string &quot;auto&quot;.</span>

<span class="sd">    Useful for properties that can be configured to behave &quot;automatically&quot;.</span>

<span class="sd">    Example:</span>

<span class="sd">        This property is often most useful in conjunction with the</span>
<span class="sd">        :class:`~bokeh.core.properties.Either` property.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class AutoModel(HasProps):</span>
<span class="sd">            ...     prop = Either(Float, Auto)</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = AutoModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10.2</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;auto&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot;      # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = [1, 2, 3]  # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Auto</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span></div>

<span class="c1"># Properties useful for defining visual attributes</span>
<div class="viewcode-block" id="Color"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Color">[docs]</a><span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="n">Either</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept color values in a variety of ways.</span>

<span class="sd">    For colors, because we support named colors and hex values prefaced</span>
<span class="sd">    with a &quot;#&quot;, when we are handed a string value, there is a little</span>
<span class="sd">    interpretation: if the value is one of the 147 SVG named colors or</span>
<span class="sd">    it starts with a &quot;#&quot;, then it is interpreted as a value.</span>

<span class="sd">    If a 3-tuple is provided, then it is treated as an RGB (0..255).</span>
<span class="sd">    If a 4-tuple is provided, then it is treated as an RGBa (0..255), with</span>
<span class="sd">    alpha as a float between 0 and 1.  (This follows the HTML5 Canvas API.)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class ColorModel(HasProps):</span>
<span class="sd">            ...     prop = Color()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = ColorModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;firebrick&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;#a240a2&quot;</span>

<span class="sd">            &gt;&gt;&gt; m.prop = (100, 100, 255)</span>

<span class="sd">            &gt;&gt;&gt; m.prop = (100, 100, 255, 0.5)</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;junk&quot;              # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = (100.2, 57.3, 10.2) # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="n">enums</span><span class="o">.</span><span class="n">NamedColor</span><span class="p">),</span>
                 <span class="n">Regex</span><span class="p">(</span><span class="s2">&quot;^#[0-9a-fA-F]</span><span class="si">{6}</span><span class="s2">$&quot;</span><span class="p">),</span>
                 <span class="n">Tuple</span><span class="p">(</span><span class="n">Byte</span><span class="p">,</span> <span class="n">Byte</span><span class="p">,</span> <span class="n">Byte</span><span class="p">),</span>
                 <span class="n">Tuple</span><span class="p">(</span><span class="n">Byte</span><span class="p">,</span> <span class="n">Byte</span><span class="p">,</span> <span class="n">Byte</span><span class="p">,</span> <span class="n">Percent</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Color</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">to_css</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span></div>


<div class="viewcode-block" id="MinMaxBounds"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.MinMaxBounds">[docs]</a><span class="k">class</span> <span class="nc">MinMaxBounds</span><span class="p">(</span><span class="n">Either</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept (min, max) bounds tuples for use with Ranges.</span>

<span class="sd">    Bounds are provided as a tuple of ``(min, max)`` so regardless of whether your range is</span>
<span class="sd">    increasing or decreasing, the first item should be the minimum value of the range and the</span>
<span class="sd">    second item should be the maximum. Setting min &gt; max will result in a ``ValueError``.</span>

<span class="sd">    Setting bounds to None will allow your plot to pan/zoom as far as you want. If you only</span>
<span class="sd">    want to constrain one end of the plot, you can set min or max to</span>
<span class="sd">    ``None`` e.g. ``DataRange1d(bounds=(None, 12))`` &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">accept_datetime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">accept_datetime</span><span class="p">:</span>
            <span class="n">types</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">Auto</span><span class="p">,</span>
                <span class="n">Tuple</span><span class="p">(</span><span class="n">Float</span><span class="p">,</span> <span class="n">Float</span><span class="p">),</span>
                <span class="n">Tuple</span><span class="p">(</span><span class="n">Datetime</span><span class="p">,</span> <span class="n">Datetime</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">types</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">Auto</span><span class="p">,</span>
                <span class="n">Tuple</span><span class="p">(</span><span class="n">Float</span><span class="p">,</span> <span class="n">Float</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MinMaxBounds</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MinMaxBounds</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">elif</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">elif</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid bounds: maximum smaller than minimum. Correct usage: bounds=(min, max)&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span></div>


<div class="viewcode-block" id="DashPattern"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.DashPattern">[docs]</a><span class="k">class</span> <span class="nc">DashPattern</span><span class="p">(</span><span class="n">Either</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept line dash specifications.</span>

<span class="sd">    Express patterns that describe line dashes.  ``DashPattern`` values</span>
<span class="sd">    can be specified in a variety of ways:</span>

<span class="sd">    * An enum: &quot;solid&quot;, &quot;dashed&quot;, &quot;dotted&quot;, &quot;dotdash&quot;, &quot;dashdot&quot;</span>
<span class="sd">    * a tuple or list of integers in the `HTML5 Canvas dash specification style`_.</span>
<span class="sd">      Note that if the list of integers has an odd number of elements, then</span>
<span class="sd">      it is duplicated, and that duplicated list becomes the new dash list.</span>

<span class="sd">    To indicate that dashing is turned off (solid lines), specify the empty</span>
<span class="sd">    list [].</span>

<span class="sd">    .. _HTML5 Canvas dash specification style: http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas/#dash-list</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">_dash_patterns</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;solid&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;dashed&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span>
        <span class="s2">&quot;dotted&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
        <span class="s2">&quot;dotdash&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
        <span class="s2">&quot;dashdot&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">types</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="n">enums</span><span class="o">.</span><span class="n">DashPattern</span><span class="p">),</span> <span class="n">Regex</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(\d+(\s+\d+)*)?$&quot;</span><span class="p">),</span> <span class="n">Seq</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DashPattern</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">DashPattern</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dash_patterns</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span></div>

<div class="viewcode-block" id="Size"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Size">[docs]</a><span class="k">class</span> <span class="nc">Size</span><span class="p">(</span><span class="n">Float</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept non-negative numeric values.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (float or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class SizeModel(HasProps):</span>
<span class="sd">            ...     prop = Size()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = SizeModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 0</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 10e6</span>

<span class="sd">            &gt;&gt;&gt; m.prop = -10   # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = &quot;foo&quot; # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Size</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a non-negative number, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Percent"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Percent">[docs]</a><span class="k">class</span> <span class="nc">Percent</span><span class="p">(</span><span class="n">Float</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept floating point percentage values.</span>

<span class="sd">    ``Percent`` can be useful and semantically meaningful for specifying</span>
<span class="sd">    things like alpha values and extents.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (float or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            &gt;&gt;&gt; class PercentModel(HasProps):</span>
<span class="sd">            ...     prop = Percent()</span>
<span class="sd">            ...</span>

<span class="sd">            &gt;&gt;&gt; m = PercentModel()</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 0.0</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 0.2</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 1.0</span>

<span class="sd">            &gt;&gt;&gt; m.prop = -2  # ValueError !!</span>

<span class="sd">            &gt;&gt;&gt; m.prop = 5   # ValueError !!</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Percent</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mf">1.0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a value in range [0, 1], got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Angle"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Angle">[docs]</a><span class="k">class</span> <span class="nc">Angle</span><span class="p">(</span><span class="n">Float</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept floating point angle values.</span>

<span class="sd">    ``Angle`` is equivalent to :class:`~bokeh.core.properties.Float` but is</span>
<span class="sd">    provided for cases when it is more semantically meaningful.</span>

<span class="sd">    Args:</span>
<span class="sd">        default (float or None, optional) :</span>
<span class="sd">            A default value for attributes created from this property to</span>
<span class="sd">            have (default: None)</span>

<span class="sd">        help (str or None, optional) :</span>
<span class="sd">            A documentation string for this property. It will be automatically</span>
<span class="sd">            used by the :ref:`bokeh.sphinxext.bokeh_prop` extension when</span>
<span class="sd">            generating Spinx documentation. (default: None)</span>

<span class="sd">        serialized (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property should be included</span>
<span class="sd">            in serialization (default: True)</span>

<span class="sd">        readonly (bool, optional) :</span>
<span class="sd">            Whether attributes created from this property are read-only.</span>
<span class="sd">            (default: False)</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">pass</span></div>

<div class="viewcode-block" id="Date"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Date">[docs]</a><span class="k">class</span> <span class="nc">Date</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept Date (but not DateTime) values.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,)</span> <span class="o">+</span> <span class="n">bokeh_integer_types</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">value</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,)</span> <span class="o">+</span> <span class="n">string_types</span> <span class="o">+</span> <span class="p">(</span><span class="nb">float</span><span class="p">,)</span> <span class="o">+</span> <span class="n">bokeh_integer_types</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a date, string or timestamp, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Datetime"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Datetime">[docs]</a><span class="k">class</span> <span class="nc">Datetime</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept Datetime values.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Datetime</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Datetime</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
        <span class="c1"># Handled by serialization in protocol.py for now</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Datetime</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="n">datetime_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
            <span class="n">datetime_types</span> <span class="o">+=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">,)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;&#39;module&#39; object has no attribute &#39;datetime64&#39;&quot;</span><span class="p">,):</span>
                <span class="kn">import</span> <span class="nn">sys</span>
                <span class="k">if</span> <span class="s1">&#39;PyPy&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime_types</span><span class="p">)):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">)):</span>
            <span class="k">return</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a datetime instance, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="TimeDelta"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.TimeDelta">[docs]</a><span class="k">class</span> <span class="nc">TimeDelta</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept TimeDelta values.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(),</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TimeDelta</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">TimeDelta</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
        <span class="c1"># Handled by serialization in protocol.py for now</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TimeDelta</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="n">timedelta_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">,)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
            <span class="n">timedelta_types</span> <span class="o">+=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">,)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span> <span class="o">==</span> <span class="p">(</span><span class="s2">&quot;&#39;module&#39; object has no attribute &#39;timedelta64&#39;&quot;</span><span class="p">,):</span>
                <span class="kn">import</span> <span class="nn">sys</span>
                <span class="k">if</span> <span class="s1">&#39;PyPy&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">timedelta_types</span><span class="p">)):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">)):</span>
            <span class="k">return</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Expected a timedelta instance, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># Container properties</span>
<span class="c1">#------------------------------------------------------------------------------</span>

<div class="viewcode-block" id="Seq"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Seq">[docs]</a><span class="k">class</span> <span class="nc">Seq</span><span class="p">(</span><span class="n">ContainerProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept non-string ordered sequences of values, e.g. list, tuple, array.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_type</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">item_type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Seq</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_instance</span><span class="p">([</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">json</span> <span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> expected a list or None, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Seq</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_seq</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_seq</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                    <span class="n">invalid</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
                            <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an element of </span><span class="si">%s</span><span class="s2">, got seq with invalid items </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invalid</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an element of </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_is_seq</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">((</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_seq_like</span><span class="p">(</span><span class="n">value</span><span class="p">))</span> <span class="ow">and</span>
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">string_types</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_is_seq_like</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">Container</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sized</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">))</span>
                <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;__getitem__&quot;</span><span class="p">)</span> <span class="c1"># NOTE: this is what makes it disallow set type</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_new_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_type</span><span class="o">.</span><span class="n">_sphinx_type</span><span class="p">()</span></div>

<div class="viewcode-block" id="List"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.List">[docs]</a><span class="k">class</span> <span class="nc">List</span><span class="p">(</span><span class="n">Seq</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept Python list values.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_type</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[],</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># todo: refactor to not use mutable objects as default values.</span>
        <span class="c1"># Left in place for now because we want to allow None to express</span>
        <span class="c1"># optional values. Also in Dict.</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">List</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">item_type</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Some property types need to wrap their values in special containers, etc.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">PropertyValueList</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">PropertyValueList</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_is_seq</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span></div>

<div class="viewcode-block" id="Array"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Array">[docs]</a><span class="k">class</span> <span class="nc">Array</span><span class="p">(</span><span class="n">Seq</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept NumPy array values.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_is_seq</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_new_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="Dict"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Dict">[docs]</a><span class="k">class</span> <span class="nc">Dict</span><span class="p">(</span><span class="n">ContainerProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept Python dict values.</span>

<span class="sd">    If a default value is passed in, then a shallow copy of it will be</span>
<span class="sd">    used for each new use of this property.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys_type</span><span class="p">,</span> <span class="n">values_type</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">keys_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">values_type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Dict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">models</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">iteritems</span><span class="p">(</span><span class="n">json</span><span class="p">)</span> <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> expected a dict or None, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Dict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="nb">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">iteritems</span><span class="p">(</span><span class="n">value</span><span class="p">))):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an element of </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Some property types need to wrap their values in special containers, etc.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">PropertyValueDict</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">PropertyValueDict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="o">.</span><span class="n">_sphinx_type</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="o">.</span><span class="n">_sphinx_type</span><span class="p">())</span></div>

<div class="viewcode-block" id="ColumnData"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.ColumnData">[docs]</a><span class="k">class</span> <span class="nc">ColumnData</span><span class="p">(</span><span class="n">Dict</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept a Python dictionary suitable as the ``data`` attribute of a</span>
<span class="sd">    :class:`~bokeh.models.sources.ColumnDataSource`.</span>

<span class="sd">    This class is a specialization of ``Dict`` that handles efficiently</span>
<span class="sd">    encoding columns that are NumPy arrays.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">make_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Return a list of ``ColumnDataPropertyDescriptor`` instances to</span>
<span class="sd">        install on a class, in order to delegate attribute access to this</span>
<span class="sd">        property.</span>

<span class="sd">        Args:</span>
<span class="sd">            base_name (str) : the name of the property these descriptors are for</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[ColumnDataPropertyDescriptor]</span>

<span class="sd">        The descriptors returned are collected by the ``MetaHasProps``</span>
<span class="sd">        metaclass and added to ``HasProps`` subclasses during class creation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">ColumnDataPropertyDescriptor</span><span class="p">(</span><span class="n">base_name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span> <span class="p">]</span>


    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Decodes column source data encoded as lists or base64 strings.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> expected a dict or None, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>
        <span class="n">new_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;__ndarray__&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">new_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">decode_base64_dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;__ndarray__&#39;</span> <span class="ow">in</span> <span class="n">el</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">value</span><span class="p">):</span>
                <span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;__ndarray__&#39;</span> <span class="ow">in</span> <span class="n">el</span><span class="p">:</span>
                        <span class="n">el</span> <span class="o">=</span> <span class="n">decode_base64_dict</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                        <span class="n">el</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                    <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
                <span class="n">new_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_list</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_type</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_data</span>

    <span class="k">def</span> <span class="nf">serialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">transform_column_source_data</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Some property types need to wrap their values in special containers, etc.</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">PropertyValueColumnData</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">PropertyValueColumnData</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Tuple"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Tuple">[docs]</a><span class="k">class</span> <span class="nc">Tuple</span><span class="p">(</span><span class="n">ContainerProperty</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept Python tuple values.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tp1</span><span class="p">,</span> <span class="n">tp2</span><span class="p">,</span> <span class="o">*</span><span class="n">type_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">,</span> <span class="p">(</span><span class="n">tp1</span><span class="p">,</span> <span class="n">tp2</span><span class="p">)</span> <span class="o">+</span> <span class="n">type_params</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Tuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_params</span>

    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">json</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">type_param</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">models</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_param</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DeserializationError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> expected a list or None, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Tuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="nb">all</span><span class="p">(</span><span class="n">type_param</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_param</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">,</span> <span class="n">value</span><span class="p">))):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected an element of </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;( </span><span class="si">%s</span><span class="s2"> )&quot;</span> <span class="o">%</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">_sphinx_type</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_params</span><span class="p">)</span></div>

<div class="viewcode-block" id="RelativeDelta"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.RelativeDelta">[docs]</a><span class="k">class</span> <span class="nc">RelativeDelta</span><span class="p">(</span><span class="n">Dict</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Accept RelativeDelta dicts for time delta values.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;years&quot;</span><span class="p">,</span> <span class="s2">&quot;months&quot;</span><span class="p">,</span> <span class="s2">&quot;days&quot;</span><span class="p">,</span> <span class="s2">&quot;hours&quot;</span><span class="p">,</span> <span class="s2">&quot;minutes&quot;</span><span class="p">,</span> <span class="s2">&quot;seconds&quot;</span><span class="p">,</span> <span class="s2">&quot;microseconds&quot;</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">Int</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RelativeDelta</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span></div>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># DataSpec properties</span>
<span class="c1">#------------------------------------------------------------------------------</span>

<div class="viewcode-block" id="DataSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.DataSpec">[docs]</a><span class="k">class</span> <span class="nc">DataSpec</span><span class="p">(</span><span class="n">Either</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Base class for properties that accept either a fixed value, or a</span>
<span class="sd">    string name that references a column in a</span>
<span class="sd">    :class:`~bokeh.models.sources.ColumnDataSource`.</span>

<span class="sd">    Many Bokeh models have properties that a user might want to set either</span>
<span class="sd">    to a single fixed value, or to have the property take values from some</span>
<span class="sd">    column in a data source. As a concrete example consider a glyph with</span>
<span class="sd">    an ``x`` property for location. We might want to set all the glyphs</span>
<span class="sd">    that get drawn to have the same location, say ``x=10``. It would be</span>
<span class="sd">    convenient to  just be able to write:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        glyph.x = 10</span>

<span class="sd">    Alternatively, maybe the each glyph that gets drawn should have a</span>
<span class="sd">    different location, according to the &quot;pressure&quot; column of a data</span>
<span class="sd">    source. In this case we would like to be able to write:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        glyph.x = &quot;pressure&quot;</span>

<span class="sd">    Bokeh ``DataSpec`` properties (and subclasses) afford this ease of</span>
<span class="sd">    and consistency of expression. Ultimately, all ``DataSpec`` properties</span>
<span class="sd">    resolve to dictionary values, with either a ``&quot;value&quot;`` key, or a</span>
<span class="sd">    ``&quot;field&quot;`` key, depending on how it is set.</span>

<span class="sd">    For instance:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        glyph.x = 10          # =&gt; { &#39;value&#39;: 10 }</span>

<span class="sd">        glyph.x = &quot;pressure&quot;  # =&gt; { &#39;field&#39;: &#39;pressure&#39; }</span>

<span class="sd">    When these underlying dictionary dictionary values are received in</span>
<span class="sd">    the browser, BokehJS knows how to interpret them and take the correct,</span>
<span class="sd">    expected action (i.e., draw the glyph at ``x=10``, or draw the glyph</span>
<span class="sd">    with ``x`` coordinates from the &quot;pressure&quot; column). In this way, both</span>
<span class="sd">    use-cases may be expressed easily in python, without having to handle</span>
<span class="sd">    anything differently, from the user perspective.</span>

<span class="sd">    It is worth noting that ``DataSpec`` properties can also be set directly</span>
<span class="sd">    with properly formed dictionary values:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        glyph.x = { &#39;value&#39;: 10 }         # same as glyph.x = 10</span>

<span class="sd">        glyph.x = { &#39;field&#39;: &#39;pressure&#39; } # same as glyph.x = &quot;pressure&quot;</span>

<span class="sd">    Setting the property directly as a dict can be useful in certain</span>
<span class="sd">    situations. For instance some ``DataSpec`` subclasses also add a</span>
<span class="sd">    ``&quot;units&quot;`` key to the dictionary. This key is often set automatically,</span>
<span class="sd">    but the dictionary format provides a direct mechanism to override as</span>
<span class="sd">    necessary. Additionally, ``DataSpec`` can have a ``&quot;transform&quot;`` key,</span>
<span class="sd">    that specifies a client-side transform that should be applied to any</span>
<span class="sd">    fixed or field values before they are uses. As an example, you might want</span>
<span class="sd">    to apply a ``Jitter`` transform to the ``x`` values:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        glyph.x = { &#39;value&#39;: 10, &#39;transform&#39;: Jitter(width=0.4) }</span>

<span class="sd">    Note that ``DataSpec`` is not normally useful on its own. Typically,</span>
<span class="sd">    a model will define properties using one of the sublclasses such</span>
<span class="sd">    as :class:`~bokeh.core.properties.NumberSpec` or</span>
<span class="sd">    :class:`~bokeh.core.properties.ColorSpec`. For example, a Bokeh</span>
<span class="sd">    model with ``x``, ``y`` and ``color`` properties that can handle</span>
<span class="sd">    fixed values or columns automatically might look like:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        class SomeModel(Model):</span>

<span class="sd">            x = NumberSpec(default=0, help=&quot;docs for x&quot;)</span>

<span class="sd">            y = NumberSpec(default=0, help=&quot;docs for y&quot;)</span>

<span class="sd">            color = ColorSpec(help=&quot;docs for color&quot;) # defaults to None</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_type</span><span class="p">,</span> <span class="n">value_type</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">String</span><span class="p">,</span>
            <span class="n">Dict</span><span class="p">(</span>
                <span class="n">key_type</span><span class="p">,</span>
                <span class="n">Either</span><span class="p">(</span>
                    <span class="n">String</span><span class="p">,</span>
                    <span class="n">Instance</span><span class="p">(</span><span class="s1">&#39;bokeh.models.transforms.Transform&#39;</span><span class="p">),</span>
                    <span class="n">Instance</span><span class="p">(</span><span class="s1">&#39;bokeh.models.expressions.Expression&#39;</span><span class="p">),</span>
                    <span class="n">value_type</span><span class="p">)),</span>
            <span class="n">value_type</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="n">help</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">value_type</span><span class="p">)</span>

    <span class="c1"># TODO (bev) add stricter validation on keys</span>

    <span class="k">def</span> <span class="nf">make_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Return a list of ``DataSpecPropertyDescriptor`` instances to</span>
<span class="sd">        install on a class, in order to delegate attribute access to this</span>
<span class="sd">        property.</span>

<span class="sd">        Args:</span>
<span class="sd">            base_name (str) : the name of the property these descriptors are for</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[DataSpecPropertyDescriptor]</span>

<span class="sd">        The descriptors returned are collected by the ``MetaHasProps``</span>
<span class="sd">        metaclass and added to ``HasProps`` subclasses during class creation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">DataSpecPropertyDescriptor</span><span class="p">(</span><span class="n">base_name</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span> <span class="p">]</span>

    <span class="k">def</span> <span class="nf">to_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="c1"># Check for None value; this means &quot;the whole thing is</span>
        <span class="c1"># unset,&quot; not &quot;the value is None.&quot;</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Check for spec type value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="c1"># Check for data source field name</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>

        <span class="c1"># Must be dict, return a new dict</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_sphinx_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sphinx_prop_link</span><span class="p">()</span></div>

<span class="n">_ExprFieldValueTransform</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;expr&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="NumberSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.NumberSpec">[docs]</a><span class="k">class</span> <span class="nc">NumberSpec</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric and datetime fixed values.</span>

<span class="sd">    By default, date and datetime values are immediately converted to</span>
<span class="sd">    milliseconds since epoch. It it possible to disable processing of datetime</span>
<span class="sd">    values by passing ``accept_datetime=False``.</span>

<span class="sd">    Timedelta values are interpreted as absolute milliseconds.</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        m.location = 10.3  # value</span>

<span class="sd">        m.location = &quot;foo&quot; # field</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">_ExprFieldValueTransform</span><span class="p">,</span> <span class="n">accept_datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">NumberSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key_type</span><span class="p">,</span> <span class="n">Float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accepts</span><span class="p">(</span><span class="n">TimeDelta</span><span class="p">,</span> <span class="n">convert_datetime_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">accept_datetime</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">accepts</span><span class="p">(</span><span class="n">Datetime</span><span class="p">,</span> <span class="n">convert_datetime_type</span><span class="p">)</span></div>


<div class="viewcode-block" id="StringSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.StringSpec">[docs]</a><span class="k">class</span> <span class="nc">StringSpec</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts string fixed values.</span>

<span class="sd">    Because acceptable fixed values and field names are both strings, it can</span>
<span class="sd">    be necessary explicitly to disambiguate these possibilities. By default,</span>
<span class="sd">    string values are interpreted as fields, but the |value| function can be</span>
<span class="sd">    used to specify that a string should interpreted as a value:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        m.title = value(&quot;foo&quot;) # value</span>

<span class="sd">        m.title = &quot;foo&quot;        # field</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">_ExprFieldValueTransform</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">StringSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key_type</span><span class="p">,</span> <span class="n">List</span><span class="p">(</span><span class="n">String</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;StringSpec convenience list values must have length 1&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">StringSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="FontSizeSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.FontSizeSpec">[docs]</a><span class="k">class</span> <span class="nc">FontSizeSpec</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts font-size fixed values.</span>

<span class="sd">    The ``FontSizeSpec`` property attempts to first interpret string values as</span>
<span class="sd">    font sizes (i.e. valid CSS length values). Otherwise string values are</span>
<span class="sd">    interpreted as field names. For example:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        m.font_size = &quot;10pt&quot;  # value</span>

<span class="sd">        m.font_size = &quot;1.5em&quot; # value</span>

<span class="sd">        m.font_size = &quot;foo&quot;   # field</span>

<span class="sd">    A full list of all valid CSS length units can be found here:</span>

<span class="sd">    https://drafts.csswg.org/css-values/#lengths</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">_font_size_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[0-9]+(.[0-9]+)?(%|em|ex|ch|ic|rem|vw|vh|vi|vb|vmin|vmax|cm|mm|q|in|pc|pt|px)$&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">_ExprFieldValueTransform</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FontSizeSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key_type</span><span class="p">,</span> <span class="n">List</span><span class="p">(</span><span class="n">String</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">string_types</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font_size_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">FontSizeSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FontSizeSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;value&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;empty string is not a valid font size value&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font_size_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%r</span><span class="s2"> is not a valid font size value&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span></div>

<span class="n">_ExprFieldValueTransformUnits</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;expr&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="UnitsSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.UnitsSpec">[docs]</a><span class="k">class</span> <span class="nc">UnitsSpec</span><span class="p">(</span><span class="n">NumberSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric fixed values, and also</span>
<span class="sd">    provides an associated units property to store units information.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">units_type</span><span class="p">,</span> <span class="n">units_default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UnitsSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">_ExprFieldValueTransformUnits</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_type_param</span><span class="p">(</span><span class="n">units_type</span><span class="p">)</span>
        <span class="c1"># this is a hack because we already constructed units_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">units_default</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span><span class="o">.</span><span class="n">_default</span> <span class="o">=</span> <span class="n">units_default</span>
        <span class="c1"># this is sort of a hack because we don&#39;t have a</span>
        <span class="c1"># serialized= kwarg on every Property subtype</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span><span class="o">.</span><span class="n">_serialized</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">(units_default=</span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span><span class="o">.</span><span class="n">_default</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">make_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Return a list of ``PropertyDescriptor`` instances to install on a</span>
<span class="sd">        class, in order to delegate attribute access to this property.</span>

<span class="sd">        Unlike simpler property types, ``UnitsSpec`` returns multiple</span>
<span class="sd">        descriptors to install. In particular, descriptors for the base</span>
<span class="sd">        property as well as the associated units property are returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str) : the name of the property these descriptors are for</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[PropertyDescriptor]</span>

<span class="sd">        The descriptors returned are collected by the ``MetaHasProps``</span>
<span class="sd">        metaclass and added to ``HasProps`` subclasses during class creation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">units_name</span> <span class="o">=</span> <span class="n">base_name</span> <span class="o">+</span> <span class="s2">&quot;_units&quot;</span>
        <span class="n">units_props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_units_type</span><span class="o">.</span><span class="n">make_descriptors</span><span class="p">(</span><span class="n">units_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">units_props</span> <span class="o">+</span> <span class="p">[</span> <span class="n">UnitsSpecPropertyDescriptor</span><span class="p">(</span><span class="n">base_name</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">units_props</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">]</span>

    <span class="k">def</span> <span class="nf">to_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">UnitsSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_serializable</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s1">&#39;units&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="c1"># d is a PropertyValueDict at this point, we need to convert it to</span>
            <span class="c1"># a plain dict if we are going to modify its value, otherwise a</span>
            <span class="c1"># notify_change that should not happen will be triggered</span>
            <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="n">d</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="o">+</span><span class="s2">&quot;_units&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">d</span></div>

<div class="viewcode-block" id="AngleSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.AngleSpec">[docs]</a><span class="k">class</span> <span class="nc">AngleSpec</span><span class="p">(</span><span class="n">UnitsSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric fixed values, and also</span>
<span class="sd">    provides an associated units property to store angle units.</span>

<span class="sd">    Acceptable values for units are ``&quot;rad&quot;`` and ``&quot;deg&quot;``.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units_default</span><span class="o">=</span><span class="s2">&quot;rad&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AngleSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">units_type</span><span class="o">=</span><span class="n">Enum</span><span class="p">(</span><span class="n">enums</span><span class="o">.</span><span class="n">AngleUnits</span><span class="p">),</span> <span class="n">units_default</span><span class="o">=</span><span class="n">units_default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span></div>

<div class="viewcode-block" id="DistanceSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.DistanceSpec">[docs]</a><span class="k">class</span> <span class="nc">DistanceSpec</span><span class="p">(</span><span class="n">UnitsSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric fixed values or strings</span>
<span class="sd">    that refer to columns in a :class:`~bokeh.models.sources.ColumnDataSource`,</span>
<span class="sd">    and also provides an associated units property to store units information.</span>
<span class="sd">    Acceptable values for units are ``&quot;screen&quot;`` and ``&quot;data&quot;``.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units_default</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">units_type</span><span class="o">=</span><span class="n">Enum</span><span class="p">(</span><span class="n">enums</span><span class="o">.</span><span class="n">SpatialUnits</span><span class="p">),</span> <span class="n">units_default</span><span class="o">=</span><span class="n">units_default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Distances must be positive or None!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">DistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ScreenDistanceSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.ScreenDistanceSpec">[docs]</a><span class="k">class</span> <span class="nc">ScreenDistanceSpec</span><span class="p">(</span><span class="n">NumberSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric fixed values for screen</span>
<span class="sd">    distances, and also provides an associated units property that reports</span>
<span class="sd">    ``&quot;screen&quot;`` as the units.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Units are always ``&quot;screen&quot;``.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Distances must be positive or None!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">ScreenDistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ScreenDistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_serializable</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;screen&quot;</span>
        <span class="k">return</span> <span class="n">d</span></div>

<div class="viewcode-block" id="DataDistanceSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.DataDistanceSpec">[docs]</a><span class="k">class</span> <span class="nc">DataDistanceSpec</span><span class="p">(</span><span class="n">NumberSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts numeric fixed values for data-space</span>
<span class="sd">    distances, and also provides an associated units property that reports</span>
<span class="sd">    ``&quot;data&quot;`` as the units.</span>

<span class="sd">    .. note::</span>
<span class="sd">        Units are always ``&quot;data&quot;``.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Distances must be positive or None!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">DataDistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">DataDistanceSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_serializable</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;units&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
        <span class="k">return</span> <span class="n">d</span></div>

<div class="viewcode-block" id="ColorSpec"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.ColorSpec">[docs]</a><span class="k">class</span> <span class="nc">ColorSpec</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; A |DataSpec| property that accepts |Color| fixed values.</span>

<span class="sd">    The ``ColorSpec`` property attempts to first interpret string values as</span>
<span class="sd">    colors. Otherwise, string values are interpreted as field names. For</span>
<span class="sd">    example:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        m.color = &quot;#a4225f&quot;   # value (hex color string)</span>

<span class="sd">        m.color = &quot;firebrick&quot; # value (named CSS color string)</span>

<span class="sd">        m.color = &quot;foo&quot;       # field (named &quot;foo&quot;)</span>

<span class="sd">    This automatic interpretation can be override using the dict format</span>
<span class="sd">    directly, or by using the |field| function:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        m.color = { &quot;field&quot;: &quot;firebrick&quot; } # field (named &quot;firebrick&quot;)</span>

<span class="sd">        m.color = field(&quot;firebrick&quot;)       # field (named &quot;firebrick&quot;)</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">_ExprFieldValueTransform</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ColorSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key_type</span><span class="p">,</span> <span class="n">Color</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">help</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">isconst</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Whether the value is a string color literal.</span>

<span class="sd">        Checks for a well-formed hexadecimal color value or a named color.</span>

<span class="sd">        Args:</span>
<span class="sd">            val (str) : the value to check</span>

<span class="sd">        Returns:</span>
<span class="sd">            True, if the value is a string color literal</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">string_types</span><span class="p">)</span> <span class="ow">and</span> \
               <span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="mi">7</span> <span class="ow">and</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;#&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">enums</span><span class="o">.</span><span class="n">NamedColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_serializable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Check for hexadecimal or named color</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isconst</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>

        <span class="c1"># Check for RGB or RGBa tuple</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">RGB</span><span class="p">(</span><span class="o">*</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">to_css</span><span class="p">())</span>

        <span class="c1"># Check for data source field name</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>

        <span class="c1"># Must be dict, return new dict</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># Some explanation is in order. We want to accept tuples like</span>
        <span class="c1"># (12.0, 100.0, 52.0) i.e. that have &quot;float&quot; byte values. The</span>
        <span class="c1"># ColorSpec has a transform to adapt values like this to tuples</span>
        <span class="c1"># of integers, but Property validation happens before the</span>
        <span class="c1"># transform step, so values like that will fail Color validation</span>
        <span class="c1"># at this point, since Color is very strict about only accepting</span>
        <span class="c1"># tuples of (integer) bytes. This conditions tuple values to only</span>
        <span class="c1"># have integer RGB components</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="c1"># TODO (bev) verify that all original floats are integer values?</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="k">else</span> <span class="n">v</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">ColorSpec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">prepare_value</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># DataSpec helpers</span>
<span class="c1">#------------------------------------------------------------------------------</span>

<span class="k">def</span> <span class="nf">expr</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convenience function to explicitly return an &quot;expr&quot; specification for</span>
<span class="sd">    a Bokeh :class:`~bokeh.core.properties.DataSpec` property.</span>

<span class="sd">    Args:</span>
<span class="sd">        expression (Expression) : a computed expression for a</span>
<span class="sd">            ``DataSpec`` property.</span>

<span class="sd">        transform (Transform, optional) : a transform to apply (default: None)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict : ``{ &quot;expr&quot;: expression }``</span>

<span class="sd">    .. note::</span>
<span class="sd">        This function is included for completeness. String values for</span>
<span class="sd">        property specifications are by default interpreted as field names.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">transform</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">expression</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">transform</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">expression</span><span class="p">)</span>


<div class="viewcode-block" id="field"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.field">[docs]</a><span class="k">def</span> <span class="nf">field</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convenience function to explicitly return a &quot;field&quot; specification for</span>
<span class="sd">    a Bokeh :class:`~bokeh.core.properties.DataSpec` property.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str) : name of a data source field to reference for a</span>
<span class="sd">            ``DataSpec`` property.</span>

<span class="sd">        transform (Transform, optional) : a transform to apply (default: None)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict : ``{ &quot;field&quot;: name }``</span>

<span class="sd">    .. note::</span>
<span class="sd">        This function is included for completeness. String values for</span>
<span class="sd">        property specifications are by default interpreted as field names.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">transform</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">transform</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="value"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.value">[docs]</a><span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Convenience function to explicitly return a &quot;value&quot; specification for</span>
<span class="sd">    a Bokeh :class:`~bokeh.core.properties.DataSpec` property.</span>

<span class="sd">    Args:</span>
<span class="sd">        val (any) : a fixed value to specify for a ``DataSpec`` property.</span>

<span class="sd">        transform (Transform, optional) : a transform to apply (default: None)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict : ``{ &quot;value&quot;: name }``</span>

<span class="sd">    .. note::</span>
<span class="sd">        String values for property specifications are by default interpreted</span>
<span class="sd">        as field names. This function is especially useful when you want to</span>
<span class="sd">        specify a fixed value with text properties.</span>

<span class="sd">    Example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            # The following will take text values to render from a data source</span>
<span class="sd">            # column &quot;text_column&quot;, but use a fixed value &quot;12pt&quot; for font size</span>
<span class="sd">            p.text(&quot;x&quot;, &quot;y&quot;, text=&quot;text_column&quot;,</span>
<span class="sd">                   text_font_size=value(&quot;12pt&quot;), source=source)</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">transform</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">val</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">transform</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">val</span><span class="p">)</span></div>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># Special Properties</span>
<span class="c1">#------------------------------------------------------------------------------</span>

<span class="c1"># intentional transitive import to put Override in this module, DO NOT REMOVE</span>
<span class="kn">from</span> <span class="nn">.property.override</span> <span class="k">import</span> <span class="n">Override</span> <span class="p">;</span> <span class="n">Override</span>

<div class="viewcode-block" id="Include"><a class="viewcode-back" href="../../../docs/reference/core/properties.html#bokeh.core.properties.Include">[docs]</a><span class="k">class</span> <span class="nc">Include</span><span class="p">(</span><span class="n">PropertyDescriptorFactory</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; Include &quot;mix-in&quot; property collection in a Bokeh model.</span>

<span class="sd">    See :ref:`bokeh.core.property_mixins` for more details.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">use_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.has_props</span> <span class="k">import</span> <span class="n">HasProps</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">delegate</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">delegate</span><span class="p">,</span> <span class="n">HasProps</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;expected a subclass of HasProps, got </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">delegate</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">help</span> <span class="o">=</span> <span class="n">help</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_prefix</span> <span class="o">=</span> <span class="n">use_prefix</span>

    <span class="k">def</span> <span class="nf">make_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_name</span><span class="p">):</span>
        <span class="n">descriptors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">delegate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_prefix</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;_props$&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">base_name</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># it would be better if we kept the original generators from</span>
        <span class="c1"># the delegate and built our Include props from those, perhaps.</span>
        <span class="k">for</span> <span class="n">subpropname</span> <span class="ow">in</span> <span class="n">delegate</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">with_bases</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="n">fullpropname</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">subpropname</span>
            <span class="n">subprop_descriptor</span> <span class="o">=</span> <span class="n">delegate</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">subpropname</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subprop_descriptor</span><span class="p">,</span> <span class="n">BasicPropertyDescriptor</span><span class="p">):</span>
                <span class="n">prop</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">subprop_descriptor</span><span class="o">.</span><span class="n">property</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">help</span><span class="p">:</span>
                    <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">help</span> <span class="o">%</span> <span class="n">subpropname</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">doc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">help</span>
                <span class="n">prop</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">doc</span>
                <span class="n">descriptors</span> <span class="o">+=</span> <span class="n">prop</span><span class="o">.</span><span class="n">make_descriptors</span><span class="p">(</span><span class="n">fullpropname</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">descriptors</span></div>


<span class="c1"># Everything below is just to update the module docstring</span>
<span class="n">_all_props</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Property</span><span class="p">))</span>
<span class="n">_all_props</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">Property</span><span class="p">)</span>
<span class="n">_all_props</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">PrimitiveProperty</span><span class="p">)</span>
<span class="n">_all_props</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ParameterizedProperty</span><span class="p">)</span>
<span class="n">_all_props</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ContainerProperty</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_find_and_remove</span><span class="p">(</span><span class="n">typ</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">_all_props</span>
    <span class="n">sub</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_all_props</span> <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">typ</span><span class="p">))</span>
    <span class="n">_all_props</span> <span class="o">-=</span> <span class="n">sub</span>
    <span class="k">return</span> <span class="n">sub</span>
<span class="n">_data_specs</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="s2">&quot;.. autoclass:: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_find_and_remove</span><span class="p">(</span><span class="n">DataSpec</span><span class="p">)))</span>
<span class="n">_containers</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="s2">&quot;.. autoclass:: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_find_and_remove</span><span class="p">(</span><span class="n">ContainerProperty</span><span class="p">)))</span>
<span class="n">_basic</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="s2">&quot;.. autoclass:: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_all_props</span><span class="p">))</span>

<span class="vm">__doc__</span> <span class="o">=</span> <span class="n">format_docstring</span><span class="p">(</span><span class="vm">__doc__</span><span class="p">,</span> <span class="n">basic_properties</span><span class="o">=</span><span class="n">_basic</span><span class="p">,</span> <span class="n">container_properties</span><span class="o">=</span><span class="n">_containers</span><span class="p">,</span> <span class="n">dataspec_properties</span><span class="o">=</span><span class="n">_data_specs</span><span class="p">)</span>

<span class="k">del</span> <span class="n">_all_props</span><span class="p">,</span> <span class="n">_data_specs</span><span class="p">,</span> <span class="n">_containers</span><span class="p">,</span> <span class="n">_basic</span><span class="p">,</span> <span class="n">_find_and_remove</span>
</pre></div>

    </div>
  </div>

<!-- END MAIN BODY OF DOCS ––––––––––––– -->

<footer class="footer">
  <div class="footer-links">
    <ul>
      <li><span class="footer-title">About Us</span></li>
      
          <li><a href="//bokeh.org/">About</a></li>
      
          <li><a href="//bokeh.org/team/">Team</a></li>
      
          <li><a href="//bokeh.org/team/">Contact</a></li>
      
    </ul>
    <ul>
      <li><span class="footer-title">Links</span></li>
      
          <li><a href="//bokeh.org/">FAQs</a></li>
      
          <li><a href="//bokeh.org/roadmap/">Technical vision</a></li>
      
          <li><a href="//bokeh.org/roadmap/">Roadmap</a></li>
      
          <li><a href="//bokeh.org/citation/">Citation</a></li>
      
    </ul>
    <ul>
      <li><span class="footer-title">Join Us</span></li>
      
          <li><a href="//bokeh.org/">Contribute</a></li>
      
          <li><a href="//groups.google.com/a/anaconda.com/forum/#!forum/bokeh">Mailing list</a></li>
      
          <li><a href="//github.com/bokeh/bokeh">Github</a></li>
      
          <li><a href="//twitter.com/BokehPlots">Twitter</a></li>
      
          <li><a href="//www.youtube.com/channel/UCK0rSk29mmg4UT4bIOvPYhw">YouTube</a></li>
      
    </ul>
    <ul class="copyright">
      <li>© Copyright 2015, Anaconda.</li>
    </ul>
  </div>
</footer>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'auto');
  ga('user.set', 'anonymizeIp', true);ga('send', 'pageview');
</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>